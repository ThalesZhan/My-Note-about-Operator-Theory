\chapter{Von Neumann Algebras}

Abelian von Neuman algebras can be explicitly described as $L^{\infty}(\mu)$. For general von Neumann algebras, they have more complex structure but more interesting properties. Firstly, we have seen the relation between the $WOT$ and the ultraweak topology, therefore, the ultraweak topology can provide some different things of the von Neumann algebra. Then, since the weak closedness of von Neumann algebras, all projections in a von Neumann algebra can completely generate the whole algebra. Thus projections are fundamental elements in the von Neumann algebra. Researching the properties of them and classifying them can help us to classify general von Neumann algebras. By the properties of the projections contained in a von Neumann algebras, general von Neumann algebras can be classified as $5$ different categories and we can see that the abelian one is belong to what category.

\section{General von Neumann Algebras}

\subsection{Elementary Properties}

\begin{prop}
	If $\{A_i\}$ is an incresing net of self-adjoint operators on $\Hs$ s.t. $\sup_i{\norm{A_i}} < \infty$, then there is an operator $A$ s.t. the following hold.
	\begin{enumerate}[label = \arabic*)]
		\item $A_i \leqslant A$ for all $i$ and if $B$ is any self-adjoint operator with $A_i \leqslant B$ for all $i$, then $A \leqslant B$. Thus $A = \sup_i A_i$.
		\item $A_i \sto A$ in $WOT$.
		\item $A_i \sto A$ in $SOT$.
		\item $A_i \sto A$ in $weak^{*}$.
	\end{enumerate}
\end{prop}
\begin{proof}
	Without loss of generality, assume all $A_i$ are positive.\\
	For any $h \in \Hs$, $\{\langle A_i h, h \rangle\}$ is an increasing positive sequence and bounded by $\alpha \norm{h}^2$ for $\alpha = \sup_i{\norm{A_i}}$. Then
	\begin{equation*}
		F(h,h) = \lim_i \langle A_i h, h \rangle,~ \abs{F(h,h)} \leqslant \alpha \norm{h}^2
	\end{equation*}
	Clearly, $F$ is a sesquilinear and by the Polar Identity, 
	\begin{equation*}
		\abs{F(g,h)} \leqslant \alpha \norm{g} \norm{h}
	\end{equation*}
	Then there is a $A \in \oper$ s.t. 
	\begin{equation*}
		\langle Ag,h \rangle = F(g,h) = \lim_i \langle A_i g, h \rangle
	\end{equation*}
	Therefore, $A$ is positive, $A \sto A_i$ in $WOT$, $A_i \leqslant A$ and $\norm{A} \leqslant \alpha$. Then
	\begin{equation*}
		0 \leqslant A - A_i \leqslant A \Rightarrow (A-A_i)^{\frac{1}{2}} \leqslant A^{\frac{1}{2}},~ \forall~ i
	\end{equation*}
	If $h \in \Hs$, then
	\begin{eqnarray*}
		\norm{(A-A_i)h}^2 &\leqslant& \norm{(A-A_i)^{\frac{1}{2}}}^2 \norm{(A-A_i)^{\frac{1}{2}}h}^2 \\
		&\leqslant& \norm{A} \norm{(A-A_i)^{\frac{1}{2}}h}^2 \\
		&=& \norm{A} \langle (A-A_i)h,h  \rangle \sto 0
	\end{eqnarray*}
	Thus $A_i \sto A$ in $SOT$. \\
	Finally, to see that $A_i \sto A$ in $weak^{*}$, consider $\{A_i^{(\infty)}\}$, and by $2)$, there is a $A^{(\infty)}$ s.t. $A_i^{(\infty)} \sto A^{(\infty)}$ in $WOT$, therefore, $A_i \sto A$ in $weak^{*}$.
\end{proof}

\begin{cor} \label{cor12}
	If $\A$ is a $\st{C}$-algebra contained in $\oper$ but without the identity and $\A$ is $weak^{*}$-closed, then there is a projection $P$ in $\A$ s.t.
	\begin{equation*}
		A = PA = AP,~ \forall~ A \in \A
	\end{equation*}
	Therefore, $P$ is the identity for $\A$ and $\A|_{P}$ is a von Neumann algebra.
\end{cor}
\begin{proof}
	There is an approximate identity $\{A_i\}$. By above proposition, 
	\begin{equation*}
		P = \sup_i A_i \in \A, \text{ and } A_i \sto P \text{ in } weak^{*}
	\end{equation*}
	Then for any $A \in \A$, $\norm{AA_i - A} \sto 0$ and $AA_i \sto AP$ in $weak^{*}$. Thus $A = AP =PA$.
\end{proof}

\begin{prop}
	\begin{enumerate}[label = \arabic*)]
		\item If $\A$ is a von Neumann algebra and $\fml{E}$ is a family of projections in $\A$, then $\bigvee \fml{E}$ and $\bigwedge \fml{E}$ belong to $\A$.
		\item If $\A$ is a von Neumann algebra and $1 \leqslant d \leqslant \infty$, then $\A^{(d)}$ is a von Neumann algebra and 
		\begin{equation*}
			(\A^{(d)})^{'} = \{~T=(T_{ij}) \in \fml{B}(\Hs^{(d)}) \colon T_{ij} \in \A^{'} ~\}
		\end{equation*}
		\item If $\A_i$ is a von Neumann algebra in $\fml{B}(\Hs_i)$ for all $i$ and $\Hs = \bigoplus_{i} \Hs_i$, then
		\begin{equation*}
			\A = \bigoplus_{i} \A_i = \{~ \bigoplus_i A_i \colon A_i \in \A_i,~ \sup_i{\norm{A_i}} < \infty~\}
		\end{equation*}
		is a von Neumann algebra.
	\end{enumerate}
\end{prop}

\begin{prop}
	Let $\{T_i\}$ and $\{S_i\}$ be nets in $\oper$.
	\begin{enumerate}[label=\arabic*)]
		\item If $T_i \sto 0$ in $WOT$ and $S_i \sto$ in $SOT$, then $S_iT_i,T_iS_i \sto 0$ in $SOT$.
		\item If $T_i \sto 0$ in $SOT$ and $K \in \coper$, then $T_iK$ and $KT_i$ convergence to $0$ in norm. If $T_i \sto 0$ in $WOT$ then $T_iK \sto 0$ in norm and $KT_i \sto 0$ in $SOT$.
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, since $T_i \sto 0$ in $WOT$, by the Principle of Uniform Boundedness, $\{T_i\}$ is norm boundedness. Since for any $h \in \Hs$, $\norm{S_i h} \sto 0$,
	\begin{equation*}
		\norm{T_iS_i h} \leqslant \norm{T_i} \norm{S_i h} \sto 0
	\end{equation*}
	And $\norm{S_iT_i h} \sto 0$ clearly.
	To prove $2)$, firstly for finite rank $K_n$ and let $h_1,\cdots,h_n$ and $g_1,\cdots,g_n$ be in $\Hs$,
	\begin{equation*}
		K_n = \sum_{i=1}^n h_i \otimes g_i
	\end{equation*}
	That means $\ran{K_n} = \spn{\{h_1, \cdots, h_n\}}$. Let $P_n$ be the projection onto $\ran{K_n}$, then $T_iK_n = T_iP_n$, 
	\begin{equation*}
		T_iK_n = T_iP_n \colon \ran{K_n} \longrightarrow \spn{\{T_ih_1, \cdots, T_ih_n\}}
	\end{equation*}
	And since the $WOT$ and the $SOT$ and the norm topology are same on a finite dimensional space, $T_iK_n \sto 0$ in norm for $T_i \sto 0$ in $WOT$ or in $SOT$. For any $K \in \coper$, there is a sequence of finite rank operators $\{K_n\}$ s.t. $K_n \sto K$ in norm. Since
	\begin{equation*}
		\norm{T_iK} = \norm{T_iK - T_iK_n} + \norm{T_iK_n}
	\end{equation*}
	$T_iK$ convergences to $0$ in norm for $T_i \sto 0$ in $WOT$ or in $SOT$.
	\begin{equation*}
		K_nT_i = \sum_{l=1}^{n} h_n \otimes (\st{T_i}g_n)
	\end{equation*}
	Thus,
	\begin{eqnarray*}
		\norm{K_nT_i} &\leqslant& \sum_{l=1}^{n} \norm{h_n \otimes (\st{T_i}g_n)} \\
		&=& \sum_{l=1}^n \norm{h_n}\norm{\st{T_i} g_n}
	\end{eqnarray*}
	If $T_i \sto 0$ in $SOT$, then $\norm{\st{T_i} g_n} \sto 0$ for all $n$, i.e. $\norm{K_nT_i} \sto 0$. Thus for $K \in \coper$, $KT_i \sto 0$ in norm. If $T_i \sto 0$ in $WOT$, for any $x \in \Hs$,
	\begin{eqnarray*}
		\langle K_n T_i x, K_n T_i x \rangle &=& \langle \sum_{l=1}^n \langle T_i x, h_l \rangle g_l, \sum_{m=1}^n \langle T_i x, h_m \rangle g_m \rangle \\
		&=& \sum_{l=1}^n \sum_{m=1}^n \langle T_i x, h_l \rangle \langle T_i x, h_m \rangle \langle g_l, g_m \rangle
	\end{eqnarray*}
	Therefore, if $T_i \sto 0$ in $WOT$, $\norm{KT_i x} \sto 0$ for $x \in \Hs$, i.e. $KT_i \sto 0$ in $SOT$.
\end{proof}

\subsection{Central Cover}

\begin{defn}
	For a von Neumann algebra $\A$, if $\fml{Z} = \A \cap \A^{'}$ is the center of $\A$, the central cover or central cover of $A \in \A$ is the projection
	\begin{equation*}
		C_A = \inf{\{~C \colon C \in \fml{Z} \text{ is a projection},~AC = A~\}}
	\end{equation*}
\end{defn}
\begin{rem}
	By above proposition, $C_A$ is definitely a projection satisfying
	\begin{equation*}
		AC_A = C_A = A
	\end{equation*}
\end{rem}

\begin{prop} \label{prop19}
	Let $\A$ be a von Neumann algebra.
	\begin{enumerate}[label=\arabic*)]
		\item If $A \in \A$, $E = (\ker{A})^{\bot}$ and $F = \clo{\ran{A}}$, then
		\begin{equation*}
			C_A = C_{\st{A}} = C_{\st{A}A} = C_{A\st{A}} = C_E = C_F
		\end{equation*}
		\item If $E$ is a projection in $\A$, then
		\begin{equation*}
			C_E = \clo{\spn{\{Ah \colon h \in E,~ A \in \A\}}}
		\end{equation*}
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, $C_A = C_{\st{A}}$ is trivial by the definition. If $C$ is a central projection s.t. $AC = A$, then $\st{A}AC = \st{A}A$. Conversely, if $\st{A}AC = \st{A}A$, then $\abs{A}C = \abs{A}$ by taking the root. By the Polar Decomposition, $AC = A$. Thus $C_A = C_{\st{A}A}$. \\
	Firstly, $E \in \A$. If $C$ is a central projection s.t. $AC = A$, then 
	\begin{equation*}
		C(\ker{A}) \subset \ker{A} \Rightarrow EC = CE = E \Rightarrow E \leqslant C
	\end{equation*}
	Therefore, $C_E \leqslant C_A$. Conversely, if $C$ is a central projection s.t. $E \leqslant C$, then 
	\begin{equation*}
		AC = AEC = AE = A
	\end{equation*}
	Thus $C_A \leqslant C_E$. Moreover, $C_F = C_E$.
	\item For $2)$, let
	\begin{equation*}
		P = \clo{\spn{\{Ah \colon h \in E,~ A \in \A\}}}
	\end{equation*}
	and clearly $P \in \A^{'}$. Moreover, for any $B \in \A^{'}$ and $h \in E$,
	\begin{equation*}
		BAh = ABh \in P \Rightarrow BP \subset P \Rightarrow P \in \A^{''} = \A
	\end{equation*}
	Therefore, $P$ is a central projection with $E \leqslant P$, thus $C_E \leqslant P$. Conversely, if $C$ is a central projection s.t. $EC = E$, then for $A \in \A$ and $h \in E$,
	\begin{equation*}
		C(Ah) = AC(Eh) = AEh = Ah \Rightarrow CP = P = PC
	\end{equation*}
	Thus $P \leqslant C$, then $P \leqslant C_E$.
\end{proof}

\begin{defn}
	If $\A$ is a con Neumann algebra and $E$ is a projection, defining
	\begin{equation*}
		\A_{E} = \{~A_E \colon A \in \A~\}
	\end{equation*}
	where $A_E = EA|_E$.
\end{defn}
\begin{rem}
	In general, $\A_E$ is not an algebra. However, if $E \in \A$, there is a $*$-isomorphism between $\A_E$ and $E\A E$. If $E \in \A^{'}$, there is a $*$-homomorphism between $\A_E$ and $E\A E$. $E \A E$ is clear a $\st{C}$-subalgebra of $\A$.
\end{rem}

\begin{prop}
	Let $\A$ be a von Neumann algebra.
	\begin{enumerate}[label=\arabic*)]
		\item If $E \in \A^{'}$ is a projection, then $\A_E$ is a von Neumann algebra in $\fml{B}(E)$ and $(\A_E)^{'} = (\A)^{'}_E$.
		\item If $E \in \A$ is a projection, then $\A_E$ is a von Neumann algebra in $\fml{B}(E)$ and $(\A_E)^{'} = (\A)^{'}_E$.
		\item If $\fml{Z}$ is the center of $\A$ and $E$ is a projection in $\A$ or $\A^{'}$, then the center of $\A_E$ is $\fml{Z}_E$.
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, it is clear since $E$ reduces $\A$. 
	\item Assume that $E \in \A$. $\A_E$ and $(\A^{'})_E$ are $*$-algebra clearly. If $B \in \A^{'}$ and $A \in \A$, then for $h \in E$, 
	\begin{equation*}
		B_E A_E h = EBEAh = EAEBh = A_E B_E h
	\end{equation*}
	Therefore, $(\A)^{'}_E \subset (\A_E)^{'}$.
	\item Check: $(\A_E)^{'} \subset (\A)^{'}_E$ \\
	Let $U \in (\A_E)^{'} \subset \fml(B)(E)$ be a unitry, $A_1,\cdots,A_n \in \A$ and $h_1,\cdots,h_n \in E$, then
	\begin{eqnarray*}
		\norm{\sum_{k=1}^n A_k U h_k}^2 &=& \sum_{i,j}^n \langle A_iUh_i,A_jUh_j \rangle = \sum_{i,j}^n \langle (E\st{A_j}A_iE)Uh_i, Uh_j \rangle \\
		&=& \sum_{i,j}^n \langle U(E\st{A_j}A_iE)h_i, Uh_j \rangle = \sum_{i,j}^n \langle E\st{A_j}A_iEh_i, h_j \rangle \\
		&=& \norm{\sum_{k=1}^n A_k h_k}^2
	\end{eqnarray*}
	Therefore, for $C = \clo{\spn{\{Ah \colon h \in E,~ A \in \A\}}}$, there is a partical isometry with the initial space $C$,
	\begin{equation*}
		W(\sum_{k=1}^n A_k h_k) = \sum_{k=1}^n A_k U h_k
	\end{equation*}
	and $WC^{\bot} = 0$. By above proposition $C = C_E$. Therefore, for any $A \in \A$,
	\begin{equation*}
		WAC^{\bot} = WC^{\bot}A = 0 = AWC^{\bot}
	\end{equation*}
	and on $C$,
	\begin{equation*}
		WA \sum_{k=1}^n A_k h_k = W \sum_{k=1}^n A A_k h_k = A \sum_{k=1}^n A_kUh_k = AW\sum_{k=1}^n A_k h_k
	\end{equation*}
	Therefore, $W \in \A^{'}$ with $Wh = Uh$ for $h \in E$. So $W_E = U$. Since any element in $(\A_E)^{'}$ can be the linear combination of four unitaries, $(\A_E)^{'} \subset (\A)^{'}_E$.
	\item Check: $\A_E \subset \fml{B}(E)$ is von Neumann. \\
	Let $T \in (\A_E)^{''}$ and extending $T$ on $\Hs$ by setting $T = 0$ on $E^{\bot}$. If $B \in \A^{'}$, then $B_E \in (\A_E)^{'}$. For $h \in E$,
	\begin{equation*}
		TBh = (TE)Bh = T B_E h = B_E Th = B_E Th =B Th
	\end{equation*}
	And on the other hand,
	\begin{equation*}
		TBE^{\bot} = TE^{\bot}B = 0 = BTE^{\bot}
	\end{equation*}
	Thus $T \in \A^{''} = \A$, and $(\A_E)^{''} = \A_E$.
	\item For $3)$, by above mention, 
	\begin{equation*}
		\A_E \cap (\A_E)^{'} = \A_E \cap (\A)^{'}_E = \fml{Z}_E \qedhere
	\end{equation*}
\end{proof}

\subsection{Kaplansky Density Theorem}

For $\st{C}$-algebra $\A$, let $\mathcal{B}(\A)$ be the norm-closed unit ball in $\A$.

\begin{thm}[Kaplansky Density Theorem]
	If $\B$ is a $\st{C}$-subalgebra of $\oper$ and $\A = \clo{\B}^{SOT}$, then 
	\begin{enumerate}[label = \arabic*)]
		\item $\mathcal{B}(\A)$ is the $SOT$ closure of $\mathcal{B}(\B)$.
		\item $\mathcal{B}(\Rea{\A})$ is the $SOT$ closure of $\mathcal{B}(\Rea{\B})$.
		\item $\mathcal{B}(\A)_{+}$ is the $SOT$ closure of $\mathcal{B}(\B)_{+}$.
		\item the $SOT$ closure of the unitaries in $\B$ contains the unitaries of $\A$.
	\end{enumerate}
\end{thm}

\begin{lem}
	If $f \in C(\R)$ with $f(0)=0$ and there are positive constants $a,b$ s.t. 
	\begin{equation*}
		\abs{f(t)} \leqslant a\abs{t} + b,~ \forall~ t \in \R
	\end{equation*}
	then for any net $\{T_i\} \subset \Rea{\A}$ with $T_i \sto T$ in $SOT$, $f(T_i) \sto f(T)$ in $SOT$.
\end{lem}
\begin{proof}
	For any $g \in C(\R)$, then the map $g \colon \Rea{\oper} \sto \Rea{\oper}$ makes sence. Denote the set of all such $g$ s.t. $g$ is continuous w.r.t. the $SOT$ by $\mathcal{S}$ and let $\mathcal{S}_b$ be set of all norm bounded elements in $\mathcal{S}$. Clearly, $\mathcal{S}_b \mathcal{S} \subset \mathcal{S}$.\\
	Let $e(t) = t / (1+t^2)$ and $A,B \in \Rea{\oper}$,
	\begin{eqnarray*}
		e(A)-e(B) &=& (1+A^2)^{-1}(A(1+B^2)-(1+A^2)B)(1+B^2)^{-1} \\
		&=& (1+A^2)^{-1}(A-B)(1+B^2)^{-1} \\
		&& \negmedspace{} + (1+A^2)^{-1}A(B-A)B(1+B^2)^{-1}
	\end{eqnarray*}
	Then for any $h \in \Hs$,
	\begin{equation*}
		\norm{e(A)-e(B)} \leqslant \norm{(A-B)(1+B^2)^{-1}h} + \norm{(A-B)(1+B^2)^{-1}h}
	\end{equation*}
	Therefore, $e \in \mathcal{S}_b$. Put $e_{\alpha}(t) = e(\alpha)$, then $e_{\alpha}(t) \in \mathcal{S}_b$ for each $\alpha > 0$. Since $\{e_{\alpha} \colon \alpha > 0\}$ can separate the points in $\R \backslash \{0\}$ and $\mathcal{S}_b$ is closed,
	\begin{equation*}
		C_0(\R \backslash \{0\}) \subset \mathcal{S}_b
	\end{equation*}
	If $f$ satisfy above assumption, $t \sto f(t) / (1+t^2)$ belongs to $C_0(\R \backslash \{0\})$, and hence to $\mathcal{S}_b$. Since the identity funtion also belongs to $\mathcal{S}$ and the condition $f$ satisfies,
	\begin{equation*}
		t \longrightarrow \frac{tf(t)}{1+t^2} \in \mathcal{S}_b
	\end{equation*}
	And thus 
	\begin{equation*}
		t \longrightarrow \frac{t^2f(t)}{1+t^2} \in \mathcal{S}
	\end{equation*}
	Therefore,
	\begin{equation*}
		f(t) = \frac{t^2f(t)}{1+t^2} + \frac{f(t)}{1+t^2} \in \mathcal{S} \qedhere
	\end{equation*}
\end{proof}

Then by using above lemma and constructing some special functions, we can easily prove the Kaplansky Theorem.

\begin{proof}[proof of Kaplansky Theorem]
	Fix a $A \in \mathcal{B}(\Rea{\A})$ and a net $\{B_i\} \subset \Rea{\B}$ s.t. $B_i \sto A$ in $SOT$.
	\item For $2)$, if $f = (t \wedge 1) \vee (-1)$, then $f$ satisfies above lemma. Therefore,
	\begin{equation*}
		f(B_i) \longrightarrow f(A) =  A \text{ in } SOT
	\end{equation*}
	but $f(B_i) \in \mathcal{B}(\Rea{\B})$.
	\item Similarly, $3)$ holds by constructing the function $f(t) = (t \wedge 1) \vee 0$.
	\item Let $U \in \A$ be a unitary. Then by the functional calculus, there is a $A \in \Rea{\A}$ s.t.
	\begin{equation*}
		U = \exp{i A} = \cos{A} + i \sin{A}
	\end{equation*}
	Then let $\{B_i\} \subset \Rea{\B}$ be a net s.t. $B_i \sto A$ in $SOT$. Since both $\sin{t}$ and $\cos{t} - 1$  satisfy above lemma, 
	\begin{equation*}
		U_i =  \cos{B_i} + i \sin{B_i} \longrightarrow U \text{ in } SOT
	\end{equation*}
	and $U_i \in \B$ is a unitary.
	\item For $1)$, fix a $A \in \mathcal{B}(\A)$ and consider the $\st{C}-$algebras $M_2(\B)$ and $M_2(\A)$, then $M_2(\A)$ is the $SOT$-closure of $M_2(\B)$.
	\begin{equation*}
		\left(
			\begin{array}{cc}
				0 & A \\
				\st{A} & 0
			\end{array}
		\right)
		\in \mathcal{B}(\Rea{M_2(\A)})
	\end{equation*}
	therefore, by $1)$ there is a net $\{T_i\} \subset \mathcal{B}(\Rea{M_2(\B)})$ converges to above element in $SOT$. Put
	\begin{equation*}
		T_i = \left(
			\begin{array}{cc}
				X_i & B_i \\
				\st{B}_i & Y_i
			\end{array}
		\right)
	\end{equation*}
	Since $\norm{T_i} \leqslant 1$, $\norm{B_i} \leqslant 1$. Clearly, $B_i \sto A$  in $SOT$.
\end{proof}

\section{SOT on von Neumann Algebras}

\subsection{Pedersen Up-Down Theorem}

The order of all self-adjoint operators in von Neumann algebras can provide another important property of von Neumann algebras.

\begin{defn}
	For any subset $\mathcal{S} \subset \Rea{\oper}$, define
	\begin{eqnarray*}
		\mathcal{S}^{\sigma} &=& \{~T \colon \exists \{S_n\} \subset \mathcal{S}  \text{  increasing sequence, } S_n \sto T \text{ in } SOT~\} \\
		\mathcal{S}_{\sigma} &=& \{~T \colon \exists \{S_n\} \subset \mathcal{S}  \text{  decreasing sequence, } S_n \sto T \text{ in } SOT~\}
	\end{eqnarray*}
\end{defn}
\begin{rem}
	Note that $\mathcal{S}  \subset \mathcal{S}^{\sigma}$ and $\mathcal{S}_{\sigma} = -(-\mathcal{S})^{\sigma}$.
\end{rem}

\begin{lem}
	If $A$ and $B$ are two positive operators with $A  \leqslant B$, then
	\begin{equation*}
		A(1+A)^{-1} \leqslant B(1+B)^{-1}
	\end{equation*}
\end{lem}
\begin{proof}
	Because of $A(1+A)^{-1} = 1  - (1+A)^{-1}$ and the fact if $0 \leqslant A \leqslant B$, $B^{-1} \leqslant A^{-1}$, the lemma holds.
\end{proof}

\begin{lem}
	Let $\Hs$ be separable. If $\B$ is a $\st{C}$-algebra and $\A = \clo{\B}^{SOT}$ and $P$ is a projection in $\A$, then for each sequence of unit $\{h_n\}$ in $\Hs$ there is a $A \in ((\mathcal{B}(\B_+))^{\sigma})_{\sigma}$ s.t.
	\begin{equation*}
		A(1-P)h_n = 0  = (1-A)Ph_n,~ \forall  n \geqslant 1
	\end{equation*}
\end{lem}
\begin{proof}
	By the Kaplansky Density Theorem and the sparability of $\Hs$, there is a sequence $\{C_n\}$ in $\mathcal{B}(\B_+)$ s.t. $C_n \sto P$ in $SOT$. Then it can assume that for $1 \leqslant j \leqslant  n$,
	\begin{equation*}
		\norm{C_n(1-P)h_j} < \frac{1}{n2^n},~ \norm{(1-C_n)Ph_j} < \frac{1}{n}
	\end{equation*}
	For $n < m$ define
	\begin{equation*}
		A_{nm} = \left(1+ \sum_{k=n}^m kC_k \right)^{-1}\sum_{k=n}^m kC_k
	\end{equation*}
	Then each $A_{nm} \in \mathcal{B}(\B_+)$ and $A_{nm} \leqslant \sum_{k=n}^m kC_k$. Thus for $j \leqslant n$,
	\begin{equation*}
		\langle A_{nm}(1-P)h_j, (1-P)h_j \rangle \leqslant \sum_{k=n}^m \frac{1}{2^k} < \frac{1}{2^{n-1}}
	\end{equation*}
	Since $\sum_{k=n}^m kC_k \geqslant mC_m$, by above lemma
	\begin{equation*}
		A_{nm} \leqslant (1+mC_m)^{-1} (mC_m) \Rightarrow 1-A_{nm} \leqslant (1+mC_m)^{-1}
	\end{equation*}
	By the fact for $0 \leqslant t \leqslant 1$, $(1+mt)^{-1} \leqslant (1+m)^{-1}(1+m(1-t))$ and $C_m \in \mathcal{B}(\B_+)$, 
	\begin{equation*}
		1- A_{nm} \leqslant (1+m)^{-1}(1+m(1-C_m))
	\end{equation*}
	Then it impilies that
	\begin{eqnarray*}
		\langle (1-A_{nm})Ph_j,Ph_j \rangle &\leqslant& \frac{1}{m} \langle (1+m(1-C_m))Ph_j,Ph_j \rangle \\
		&\leqslant& \frac{1}{m} (\norm{Ph_j}+m\norm{(1-C_m)Ph_j}) \\
		&\leqslant& \frac{2}{m}
	\end{eqnarray*}
	Fix a $n$, $\{A_{nm} \colon m > n\}$ is increasing by above lemma. Since it is bounded, there is a $A_n$  s.t. $A_{nm} \sto A_n$ fin $SOT$ and $A_n \in (\mathcal{B}(\B_+))^{\sigma}$. On the other hand, when $n+1 < m$, also by above lemma, it implies that $A_{n+1,m} \leqslant A_{nm}$, thus $A_{n+1} \leqslant A_n$. Thus there is a operator $A$ s.t. $A_n \sto A$ in $SOT$, and thus $A \in ((\mathcal{B}(\B_+))^{\sigma})_{\sigma}$. Moreover, by above
	\begin{eqnarray*}
		\langle A_n(1-P)h_j, (1-P)h_j \rangle &\leqslant& \frac{1}{2^{n-1}} \\
		\langle (1-A_n)Ph_j,Ph_j \rangle &\leqslant& 0
	\end{eqnarray*}
	As $n \sto \infty$, $A(1-P)h_n = 0  = (1-A)Ph_n$ for all $n$.
\end{proof}

\begin{thm}[Pedersen Up-Down Theorem]
	If $\Hs$ is a separable,  $\B$ is a \Cs contained in $\oper$, and $\A = \clo{\B}^{SOT}$, then
	\begin{equation*}
		\mathcal{B}(\A_+) = ((\mathcal{B}(\B_+))^{\sigma})_{\sigma} \text{ and } \Rea{\A} = (\Rea{\B})^{\sigma})_{\sigma}
	\end{equation*}
\end{thm}
\begin{proof}
	Firstly, by above lemma, for any projection $P \in \A$ and a dense subset in $\{h \in \Hs \colon \norm{h} =1\}$, there is a $A \in ((\mathcal{B}(\B_+))^{\sigma})_{\sigma}$ s.t. $A(1-P) = 0  = (1-A)P$.\\
	For $A \in (\mathcal{B}(\A_+)$ with the spectral measure $E$ and $k \leqslant 1$,
	\begin{equation*}
		P_k = E \left(\bigcup_{j=1}^{2^k-1}(\frac{j}{2^k}, \frac{j+1}{2^k}] \right)
	\end{equation*}
	then by the integral, $A  =  \sum_{k=1}^{\infty}  2^{-k}P_k$ converging by the norm. Then for each $k$, there is a decreasing sequence $\{Z_{kn}\}$ in $(\mathcal{B}(\B_+))^{\sigma}$ s.t. $Z_{kn} \sto  P_k$ in $SOT$, define
	\begin{equation*}
		T_n = \sum_{k=1}^n \frac{1}{2^k} Z_{kn} + \frac{1}{2^n} \geqslant A
	\end{equation*}
	Since $(\mathcal{B}(\B_+))^{\sigma}$ is convex, $T_n \in (\mathcal{B}(\B_+))^{\sigma}$. Moreover, because of $Z_{+1,n+1} < 1$,
	\begin{equation*}
		T_{n} - T_{n+1}  = \sum_{k=1}^n \frac{1}{2^k} (Z_{kn} -  Z_{k,n+1}) + \frac{1}{2^n} (\frac{1}{2^{n+1}}Z_{n+1,n+1} + \frac{1}{2^{n+1}}) \leqslant 0
	\end{equation*}
	Thus $\{T_n\}$ is decreasing and there is some $T \in ((\mathcal{B}(\B_+))^{\sigma})_{\sigma}$ with $T \geqslant A$ s.t. $T_n \sto T$ in $SOT$.
	\item Check: $A = T \in ((\mathcal{B}(\B_+))^{\sigma})_{\sigma}$ \\
	Since $0 \leqslant Z_{kn} - P_k \leqslant 1$, the series $\sum_k 2^{-k}(Z_{kn}-P_k)$ is convergent. Then for any unit $h \in \Hs$ and $\varepsilon > 0$, chose $N$ s.t. $2^{-N} < \varepsilon$, then there is an $n_0$ s.t. 
	\begin{equation*}
		0 \leqslant \langle (Z_{kn}-P_k) h,h \rangle < \frac{\varepsilon}{2}, \text{ for } 1 \leqslant k \leqslant N \text{ and } n \geqslant n_0
	\end{equation*}
	Therefore,
	\begin{equation*}
		\lim_{n \sto \infty} \sum_{k=1}^{\infty} \frac{1}{2^k} \langle (Z_{kn}-P_k) h,h \rangle = 0,~ \forall h \in \Hs
	\end{equation*}
	However,
	\begin{equation*}
		0 \leqslant T_n - A = T_n - \sum_{k=1}^{\infty} \frac{1}{2^k} P_k \leqslant \frac{1}{2^n} + \sum_{k=1}^{\infty} \frac{1}{2^k}(Z_{kn}-P_k)
	\end{equation*}
	Therefore, $T_n \sto A$ in $WOT$, but $T_n \sto T$ in $SOT$, thus $T = A$. 
	\item Check: $\Rea{\A} = (\Rea{\A})^{\sigma})_{\sigma}$ \\
	Fix $A \in \Rea{\A}$ and let $\alpha = -\norm{A}$.  Therefore, $A+\alpha \leqslant 0$. Let $\beta = \norm{A+\alpha}$, so $T=\beta^{-1}(A+\alpha) \in \mathcal{B}(\A_+)$ and $A = \beta T -\alpha$. But $\beta T \in ((\mathcal{B}(\B_+))^{\sigma})_{\sigma}$  and $-\alpha \in \mathcal{B}(\B)$. Thus $A  \in ((\mathcal{B}(\Rea{\B}))^{\sigma})_{\sigma}$.
\end{proof}

The Up-Down Theorem can reveal the basic property of general von Neumann algebras.

\begin{thm} \label{thm16}
	If $\A$ is a \Cs contained in $\oper$, then $\A$ is $weak^*$-closed if and only if it contains the supremum of every bounded increasing net of self-adjoint operators in the algebra.
\end{thm}
\begin{proof}
	$\A$ is $weak^*$-closed, thus $\A$ is  a von Neumann algebra. Therefore, by above proposition $\A$ has this property. Assume that $\A$ is a \Cs and if $\{A_i\}$ is an increasing net in $\Rea{\A}$ with $A_i \sto A$ in $SOT$, then $A \in \A$. Then by taking the nagatives of the increasing parts, it is also true for that if $\{A_i\}$ is an decreasing net in $\Rea{\A}$ with $A_i \sto A$ in $SOT$, then $A \in \A$. Therefore, 
	\begin{equation*}
		\Rea{\A} = ((\mathcal{B}(\Rea{\A}))^{\sigma})_{\sigma}
	\end{equation*}
	Then if $\Hs$ is separable, by the Up-Down Theorem $\A$ is $weak^*$-closed. \\
	For the general case, let $\B = \clo{\A}^{SOT}$. It is sufficient to show that any projection contained in $\B$ is contained in $\A$. Let $P$ be the projection in $\B$ and $g \in P$ and $h \in P^{\bot}$. Then by above lemma, there is an $T \in \A_+$ s.t. $Tg = g$ and $Th = 0$. Let $R$ be projection onto $\clo{\ran{T}}$ and $Rg = g$ and $Rh = 0$, moreover $R \in \A$ because of the hypothesis and the Spectral Theorem. For any $g \in P$ and $h \in P^{\bot}$, denote the $R$ by $R_{gh}$. Fix $g \in P$ and 
	\begin{equation*}
		\fml{F} = \{~h_1, h_2, \cdots, h_m\} \subset P^{\bot}
	\end{equation*}
	then $R_{\fml{F}} = R_{gh_1} \wedge R_{gh_2} \wedge \cdots \wedge R_{gh_m} \in \A$. And $\{R_{\fml{F}}\}$ is a decreasing net and thus $R_g = \lim-SOT R_{\fml{F}} \in \A$. And since $R_g P^{\bot} = 0$, $R_g \leqslant P$ for all $g \in P$. Then let
	\begin{equation*}
		\fml{G} = \{~g_1, g_2, \cdots, g_n\} \subset P
	\end{equation*}
	$R_{\fml{G}} = R_{g_1} \vee R_{g_2} \vee \cdots \vee R_{g_n} \in \A$. And $\{R_{\fml{G}}\}$ is an increasing net and thus $R = \lim-SOT R_{\fml{F}} \in \A$. Therefore, $R = P \in \A$.
\end{proof}

\subsection{Normal Homomorphisms}

\begin{defn}
	If $\A$ and $\B$ are von Neumann algebras and $\rho \colon \A \sto \B$ is a linear positive map, then $\rho$ is normal if for any increasing net $\{A_i\}$ in $\A$ with $A_i \sto A$ in $SOT$, $\rho(A_i) \sto \rho(A)$ in $SOT$.
\end{defn}
\begin{rem}
	In particular, if $E \in \A$, $A \mapsto EAE$ is a normal homomorphism. The normal homomorphsims should be postive linear maps that are continuous with respect to the $SOT$, but in above definition, there is an extra condition. In fact, this extra condition has an equivalent expression.
\end{rem}

If $\A$ is a von Neumann algebra, the $\A$ is $weak^*$-closed, therefore $\A$ is the dual space of some Banach space. Let $\A_*$ be the space of all $weak^*$-continuous fuctionals on $\A$, then $\A  = (\A_*)^*$. And also 
\begin{equation*}
	\A_* \cong \toper / \A_{\bot},
\end{equation*}
where $\A_{\bot}$ is the space of all trace class annihilating the $\A$. Therefore, for any $L \in \A_*$, there is $T \in \toper$ s.t. for all $A \in \A$, 
\begin{equation*}
	L(A) = \tr{(AT)}
\end{equation*}
In fact, if $L$ is positive, then $T$ can be chosen as a positive element.

\begin{lem}
	If $\phi$ and $\psi$ are positive functionals on a von Neumann algebra $\A$ s.t. there is an operator $A \in \A_+$ with $\phi(A)  < \psi(A)$, then there is an operator $B \in \A_+$ s.t. $B \leqslant A$ and $\phi(T) < \psi(T)$ for all $T \in \A$ with $0 <  T \leqslant  B$. If $A$ is projection, then $B$ can be chosen as a projection.
\end{lem}
\begin{proof}
	Let $\mathcal{C}$ be the set of all $C \in \A_+$ s.t. $C \leqslant A$ and $\phi(C) \leqslant \psi(C)$. And give $\mathcal{C}$ with the usual order. Then if $\{C_i\}$ is the chain in $\mathcal{C}$ and let $C = \sup_i C_i \in \A_+$  and $C \leqslant A$. Since $\phi$ and $\psi$ is positive, $C \in \mathcal{C}$. Then by the Zorn's Lemma, there is a maximal element $C$ in $\mathcal{C}$. Put $B = A-C$. If $T \in \A_+$ with $0 < T \leqslant B$, by the maximality of $C$, $T \notin \mathcal{C}$, thus $\phi(T) < \psi(T)$. Moreover, if $A$ is a projection, $B \leqslant A$ implies that $\clo{\ran{B}} \leqslant A$. If $B = \int_0^1 t dP(t)$ be the spectral decomposition, then for any $\varepsilon >  0$, $P = P([\varepsilon,1])$. Then $P$ satisfies above condition.
\end{proof}

\begin{thm}
	If $\psi$ is a positive linear functional on the von Neumann algebra $\A$, then the following statements are equvilaten.
	\begin{enumerate}[label = \arabic*)]
		\item $\psi$ is normal.
		\item If $\{E_i\}$ is a pairwise orthogonal family of projections in $\A$, then 
		\begin{equation*}
			\psi(\sum E_i) = \sum \psi(E_i)
		\end{equation*}
		\item $\psi$ is $weak^*$-continous.
		\item There is a positive trace class operator $C$ s.t. $\psi(A) = \tr{(AT)}$ for all $A \in \A$.
	\end{enumerate}
\end{thm}
\begin{proof}
	Without loss the generality, assuming that $\psi(1) = 1$.
	\item $1) \Rightarrow 2)$: It is trivial.
	\item $2) \Rightarrow 3)$: Since $0 \leqslant \psi(E) \leqslant 1$ for any non-zero projection $E$, for any $h \in \Hs$,
	\begin{equation*}
		\psi(E) \leqslant \langle Eh,h \rangle
	\end{equation*}
	Therefore, by preceding lemma, there is a projection $F$ with $0 \leqslant F \leqslant E$ s.t.
	\begin{equation*}
		\psi(T) \leqslant \langle hT,h \rangle,~ \forall 0 \leqslant  T \leqslant F
	\end{equation*}
	Since $FAF \leqslant \norm{A}F$, 
	\begin{equation*}
		\psi(FAF) \leqslant \norm{A} \langle FAFh,h \rangle
	\end{equation*}
	Then by the CBS inequality, for any $A \in \mathcal{B}(\A)$
	\begin{equation*}
		\abs{\psi(AF)}^2 \leqslant \psi(F\st{A}AF) \leqslant \norm{A}^2 \langle F\st{A}AFh,h \rangle = \norm{A}^2 \norm{AFh}^2
	\end{equation*}
	Therefore, $\psi(\cdot F) \colon \A \sto \C$ is $SOT$-continuous. \\
	Let $\{E_i\}$ be the maximal family of pairwise orthogonal projections in $\A$ s.t. $\psi(\cdot E_i)$ is $SOT$-continous on $\A$. Let $E = \sum_i E_i$. Clearly, $E = 1$. If $E \neq 1$, then there is a projection $F \leqslant E^{\bot}$ s.t. $\psi(\cdot F)$ is $SOT$-continous on $\A$, which contradicts the maximality of $\{E_i\}$. Then by $2)$,
	\begin{equation*}
		\psi(\sum_i E_i) = \psi(1) = 1
	\end{equation*}  
	Therefore, for any $\varepsilon > 0$, there is a finite set $I_0$ of index s.t. for any $J$ with $I_0 \subset J$, and let $P_J = \sum_J E_j$,
	\begin{equation*}
		\psi{P_J^{\bot}} = 1- \psi(P_J) < \varepsilon
	\end{equation*}
	Then for any $A \in \mathcal{B}(\A)$, 
	\begin{equation*}
		\abs{\psi(AP_J^{\bot})}^2  \leqslant \psi(A\st{A})\psi(P_J) < \varepsilon
	\end{equation*}
	And thus for any $J$ with $I_0 \subset J$,
	\begin{equation*}
		\norm{\psi - \psi(\cdot P_J)} = \sup{\{~\abs{\psi(AP_J)} \colon A \in \mathcal{B}(\A)~\}} < \sqrt{\varepsilon}
	\end{equation*}
	Since $\psi(\cdot P_J) \in \A_*$, $\psi \in \A_*$.
	\item $3) \Rightarrow 4)$: Firstly, assume that $\psi(A) = \langle Ag,h \rangle$ for some $g,h \in \Hs$. \\
	Check: $\psi(A) = \langle Af, f \rangle$ for some $f \in \Hs$. \\
	By the fact that $A \in \A_+$, $\langle Ag,h \rangle \leqslant 0$, 
	\begin{eqnarray*}
		4\langle Ag,h \rangle &=& \langle A(g+h),g+h \rangle - \langle A(g-h),g-h \rangle \\
		&\leqslant& \langle A(g+h),g+h \rangle
	\end{eqnarray*}
	Let $\phi(A) = \frac{1}{4}\langle A(g+h),g+h \rangle$, then $\psi(A) \leqslant \phi(A)$. By the \textbf{Proposition} \ref{prop17} in the subsection \textbf{3.2.7}, there is a $T \in \A^{'}$ with $0 \leqslant T \leqslant 1$ s.t. 
	\begin{equation*}
		\psi(A) =  \langle AT(g+h),g+h \rangle
	\end{equation*}
	Let $f = T^{\frac{1}{2}}(g+h)$, then $\psi(A) = \langle Af, f \rangle =  \tr{(Af \otimes f)}$, where $f \otimes f$ is a positive trace class. \\
	For general case, since $\psi \in \A_*$, by above mention, there is a $D \in \coper$ s.t. $\psi(A) = \tr{(AD)}$. By the \textbf{Theorem} \ref{thm15} in the subsection \textbf{5.3.3}, there are $g, h \in \Hs^{(\infty)}$  s.t.
	\begin{equation*}
		\psi(A)  = \tr{(AD)} = \langle A^{(\infty)}g,h \rangle = \langle A^{(\infty)}f,f \rangle
	\end{equation*} 
	Then there is a $C \in \coper$, s.t.
	\begin{equation*}
		\langle A^{(\infty)}f,f \rangle = \tr{(AC)}
	\end{equation*}
	And in fact, if $f = (f_i) \in \Hs^{(\infty)}$, $C = \sum_i f_i \otimes f_i \geqslant 0$.
	\item $4) \Rightarrow 1)$: It is trivial by definition.
\end{proof}

Then by using the above theorem, the equivalent statement as the following corollary shows can make the definition of normal homomorphism more nature.

\begin{cor}
	If $\A$ and $\B$ are von Neumann algebras and $\rho \colon \A \sto \B$ is a positive linear map, then $\rho$ is normal if and only if it is $weak^*$-continuous. 
\end{cor}
\begin{proof}
	If $\rho$ is $weak^*$-continuous, then it is clearly normal. Conversely, if $\rho$ is normal and $\phi \in \B_*$ such that $\phi$ is positive, then $\phi \circ  \rho$ is a normal functional on $\A$. By preceding theorem and the fact that all element in $\B_*$ can be linear combination of four positive elments, $\phi \circ  \rho$ is $weak^*$-continuous for all $\phi \in \B_*$. Therefore, by the Hahn-Banach Theorem, $\rho$ is $weak^*$-continuous.
\end{proof}

\begin{prop}
	Every $*$-isomorphism between von Neumann algebras is normal.
\end{prop}
\begin{proor}
	Let $\rho \colon \A \sto \B$ be $*$-isomorphism between von Neumann algebras $\A$ and $\B$. If $\{\A_i\}$ is an increasing net of self-adjoint operators in $\A$ with $A = \sup_i A_i$, then $\{\rho(\A_i)\}$ is an increasing net in $\B$ with $\rho(\A_i) \leqslant \rho(A)$ for all $A_i$. Thus 
	\begin{equation*}
		B = \sup_i  \rho(A_i) \leqslant \rho(A)
	\end{equation*}
	Conversely, $A_i = \rho^{-1}\rho(A_i)  \leqslant \rho^{-1}(B)$ for all $A_i$. That means $A \leqslant \rho^{-1}(B)$. Therefore, $A =  \rho(B)$.
\end{proor}

\subsection{Ideals}

Rather than considering norm closed ideals in $\st{C}$-algebras, in von Neumann algebras, $WOT$-closed ideal should be paid more attention on, or equivalently, $weak^*$-closed ideal.

\begin{thm}
	Let $\A$ be a von Neumann algebra.
	\begin{enumerate}[label=\arabic*)]
		\item $\B$ is a $weak^*$-closed hereditary subalgebra of $\A$ if and only if there is a unique projection $P$ in $\A$ s.t. $\B = P \A P$.
		\item $\I$ is a $weak^*$-closed left ideal of $\A$ if and only if there is a unique projection $P$ in $\A$ s.t. $\I = \A P$.
		\item $\I$ is a $weak^*$-closed ideal of $\A$ if and only if there is a unique central projection $P$ in $\A$ s.t. $\I = \A P = P \A$.
	\end{enumerate}
\end{thm}
\begin{proof}
	For $1)$, if $\B = P \A P = \A P \cap P \A = \A P \cap \st{(\A P)}$, $\B$ is hereditary by the fact that $\A P$ is a norm closed left ideal and \textbf{Theorem} \ref{thm6} in the subsection \textbf{3.2.5}. And clearly, $\B$ is $weak^*$-closed subalgebra. Conversely, if $\B$ is a $weak^*$-closed hereditary subalgebra, then by the \textbf{Corollary} \ref{cor12} in the subsection \textbf{6.1.1}, there is a central projection $P \in \B$ s.t. $\B = P \B = \B P$, thus $\B \subset P \A P$. If $A \in \A_+$, then $PAP  \leqslant \norm{A} P \in \B$. Since $\B$ is hereditary, $PAP \in \B$. Therefore, $\B =  P \A P$. The uniqueness of $P$ is because any such $P$ is the identity for $\B$.
	\item For $2)$, if $\I$ is a $weak^*$-closed left ideal of $\A$, then $\B = \I \cap \st{\I}$ is a $weak^*$-closed hereditary subalgebra. Then there is a projection $P \in \B \subset \I$ s.t. $\B =  P \A P$. Thus $\A P \subset \I$. Conversely, if $T \in \I$, then $\st{T}T \in \B_+ = \I_+$. Therefore, $\st{T}T P = \st{T}T$ and so $\abs{T}P = \abs{T}$. By the Polar Decomposition, $T = TP \in \A P$. Hence, $\I = \A P$. And the unqueness of $P$ is because the uniqueness of $P$ in $\B$.
	\item For $3)$, That $\I$ is a $weak^*$-closed ideal of $\A$, also norm closed, implies that $\I = \st{I}$. Then by $1)$ and $2)$, there is a projection $P \in \I$ s.t. $\I = \A P = P \A$. Moreover, for any $A \in \A$,
	\begin{equation*}
		PA = P(PA) = P (PAP) = (PA) P = AP
	\end{equation*}
	Therefore, $P$ is in the center of $\A$.
\end{proof}

For the ideal in a von Neumann algebra, it is always assumed as the $weak^*$-closed ideal. Thus, there is a direct corollary of above theorem about the simple von Neumann algbras.

\begin{cor}
		A von Neumann algebra $\A$ is simple if and only if 
		\begin{equation*}
			\fml{Z} = \A \cap \A^{'} = \C I
		\end{equation*}
\end{cor}

\begin{defn}
	A von Neumann algebra $\A$ is called factor, if 
	\begin{equation*}
		\fml{Z} = \A \cap \A^{'} = \C I
	\end{equation*}
\end{defn}
\begin{rem}
	By above corollary, factors are simple von Neumann algebras. Moreover, for a von Neuamnn algebra $\A$,  if $P \in \fml{Z}$ is a projection, then $\A = P \A + P^{\bot} \A$, where $P \A$ and $P^{\bot} \A$ are von Neumann algebras. And by above mention, $P \A = P \A P \cong \A_P$. Therefore, any von Neumann algebra is semi-simple and since $\I = P \A$ is an ideal, $\A / \I \cong P^{\bot} \A$
\end{rem}

\begin{thm}
	If $\A$ and $\B$ are von Neumann algebras and $\rho \colon \A \sto \B$ is a normal $*$-homomorphism, then $\ker{\rho}$ is $weak^*$-closed and $\rho(\A)$ is $weak^*$-closed in $\B$. Moreover, there is a central projection $P$ s.t. $\ker{\rho} =  P^{\bot} \A$ and $\rho$  is a $*$-isomorphism of $P \A$ onto $\ran{\rho}$.
\end{thm}
\begin{proof}
	Check: $\ker{\rho}$ is $weak^*$-closed. \\
	If $\{A_i\}$ is a bounded increasing net in $\Rea{\ker{\rho}}$, then put $A = \sup_i A_i$. Since $\rho$ is normal, $\rho(A) = \sup_i \rho(A_i) = 0$. Therefore, $A \in \ker{\rho}$. Then by \textbf{Theorem} \ref{thm16} in the subsection \textbf{6.2.1}, $\ker{\rho}$ is $weak^*$-closed.
	\item Check: $\ran{\rho}$ is $weak^*$-closed. \\
	Let $\{B_i\}$ is a bounded increasing net in $\Rea{\ran{\rho}}$ and $B = \sup_i B_i$. Then put
	\begin{equation*}
		\Gamma = \{~A \in \A_+ \colon \rho(A) \in \{B_i\}~\}
	\end{equation*}
	\item Claim: $\Gamma$ is directed with respect to the usual order. \\
	Suppose $A_i, A_j \in \Gamma$ with $\rho(A_i) = B_i$ and $\rho(A_j)  = B_j$. Pick $B_k$ s.t. $B_i, B_j \leqslant B_k$. Therefore, there is a $T \in \A_+$ s.t. $\rho(T) = B_k-B_i$. If $C_i =  A_i + T$, then $C_i \geqslant A_i$ and $\rho(C_i) = B_k$. Similarly, there is a $C_j \geqslant A_j$ s.t. $\rho(C_j) = B_k$. Therefore, $C_i-C_j \in \ker{\rho}$, and if $A = C_i + \abs{C_i-C_j}$, then $\rho(A) = B_k$ and $C_i, C_j \leqslant A$. \\
	Fix $\varepsilon > 0$, by proof of the Pedersen Up-Down Theorem, the map  $A  \sto (1+\varepsilon A)^{-1}A$ is an increasing funnction on $\oper_+$. Thus $\{(1+\varepsilon A)^{-1}A \colon A \in \Gamma\}$ is an increasing function in $\A$ with the bound $\varepsilon^{-1}$. Put
	\begin{equation*}
		A_{\varepsilon}  = \sup{\{(1+\varepsilon A)^{-1}A \colon A \in \Gamma\}}
	\end{equation*}
	and $\norm{A_{\varepsilon}} \leqslant \varepsilon^{-1}$. Since $\rho$ is normal,
	\begin{equation*}
		\rho(A_\varepsilon) = (1+\varepsilon B)^{-1}B \in \ran{\rho}
	\end{equation*}
	But $(1+\varepsilon B)^{-1}B \sto B$ in norm and $\ran{\rho}$ is norm closed, thus $B \in \ran{\rho}$.  \\
	The rest of the theorem can be obtained by using above theorem.
\end{proof}

\section{Projections}

\subsection{Equivalence}

Projections in a von Neumann algebra play the role as generators, which lead to researching globle properties the von Neumann algebra is based on the properties of its projections, to some extend. Firstly, there is some equivalent relation between projections.

\begin{defn}
	Let $E$ and $F$ be two projections in a von Neumann algebra $\A$. $E$ and $F$ are equivalent, denoted by $E \sim F$, if there is a partial isometry $W \in \A$ s.t. $\st{W}W = E$ and $W\st{W} = F$. If there is a $G \leqslant F$ s.t. $E \sim F$, then denoting $E \lesssim F$.
\end{defn}

There are some properties of the equivalent projections.

\begin{prop}
	\begin{enumerate}[label=\arabic*)]
		\item In an ablien algebra, two projections are equivalent if an only if they are equal. 
		\item Two projections in $\oper$ are equivalent if and only if they have same dimensional.
		\item If $\A$ is a von Neumann algebra and $A \in \A$, then $\cran{A} \sim \cran{\st{A}}$.
		\item Let $E$ be a projection in a von Neumann algebra $\A$. $E \sim 0$ if and only if $E = 0$.
		\item If $E$ and $F$ are two projections in $\A$ with $E \sim F$, then for any central projection $Z$, $ZE \sim ZF$.
	\end{enumerate}
\end{prop}
\begin{proof}
	$1)$ holds trivially. For $2)$, by the proof of the Polar Decomposition, for a partial isometry $W$, $(\ker{W})^{\bot}$ and $\ran{W}$ are isometrically isomorphism. For $3)$, let $A = W\abs{A}$ the Polar Decomposition. Then
	\begin{equation*}
		\st{W}W = \cran{\abs{A}} = \cran{\st{A}},~ W \st{W} = \cran{A}
	\end{equation*}
	For $4)$, $E = \st{W}W$ and $W\st{W} = 0$. That means $W = 0$, thus $ E = 0$. \\
	$5)$ holds since $Z = \st{Z}Z$ and $Z$ is in center.
\end{proof}

\begin{lem}
	For projections $E$ and $F$:
	\begin{enumerate}[label=\arabic*)]
		\item $\cran{EF} = E \wedge (E \wedge F^{\bot})^{\bot} = E - E \wedge F^{\bot}$;
		\item $\cran{EF^{\bot}} = E - E \wedge F$;
		\item $\cran{F^{\bot}E} = E \vee F - F$.
	\end{enumerate}
\end{lem}
\begin{proof}
	It is sufficien to prove $1)$. \\
	Check: $\ker{FE} = E^{\bot} + (E \vee F^{\bot})$. \\
	If $h \in \ker{FE}$ and expressing $h = g + f$ where $g \in E^{\bot}$ and $f \in E$, then $0 = FEh = Ff$. Thus $f \in F^{\bot}$, i.e. $f \in E \vee F^{\bot}$. Therefore,
	\begin{equation*}
		\ker{FE} \leqslant E^{\bot} + (E \vee F^{\bot})
	\end{equation*}
	Conversely, if $h = g + f$ with $g \in E^{\bot}$ and $f \in E \vee F^{\bot}$, then $FEh = Ff = 0$. Thus $\ker{FE} = E^{\bot} + (E \vee F^{\bot})$. \\
	Thus,
	\begin{equation*}
		\cran{EF} = (\ker{FE})^{\bot} = E \wedge (E \vee F^{\bot})^{\bot} = E - E \vee F^{\bot} \qedhere
	\end{equation*}
\end{proof}

\begin{prop}
	\begin{enumerate}[label = \arabic*)]
		\item If $E$ and $F$ are projections, then
			\begin{eqnarray*}
				E \vee F - F &\sim& E - E \wedge F \\
				E - E \wedge F^{\bot} &\sim& F -  E^{\bot} \wedge F 
			\end{eqnarray*}
		\item If $\{E_i\}$ and $\{F_i\}$ are two sets of pairwise orthogonal projections s.t. $E_i \sim_{W_i} F_i$ for all $i$, then
		\begin{equation*}
			E = \sum_i E_i \sim_W  F = \sum_i F_i
		\end{equation*}
		where $W =  \sum_i  W_i$.
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, by above proposition,
	\begin{equation*}
		\cran{F^{\bot}E}  \sim \cran{\st{F^{\bot}E}} = \cran{EF^{\bot}}
	\end{equation*}
	And by above lemma,
	\begin{equation*}
		\cran{F^{\bot}E} = E \vee F - F, \text{ and } \cran{EF^{\bot}} = E - E \wedge F
	\end{equation*}
	Therefore, the first equivalence is obtained. By $\cran{FE} \sim \cran{EF}$, the second is also true. 
	\item For $2)$, if $h \in \Hs$,
	\begin{eqnarray*}
		\norm{Eh}^2 &=&  \langle Eh,h \rangle = \sum_i \langle E_ih,h \rangle  \\
		&=& \sum_i \langle \st{W_i}W_ih,h \rangle = \sum_i \norm{W_i}^2
	\end{eqnarray*}
	Since $\{W_i h\}$ is an orthogonal set, $\sum_i W_i$ converges strongly. Therefore put $W = \sum_i W_i$. And by the fact that $\{E_i\}$  are pairwise orthogonal, for any finite subset $I$  of index, 
	\begin{equation*}
		\st{(\sum_{i \in I} W_i)}(\sum_{i \in I} W_i) = \sum_{i \in I} \st{W_i}W_i = \sum_{i \in I} E_i
	\end{equation*}
	Then by SOT convergence, $\sum_i \st{W_i}W_i = \sum_i E_i$, and it is also valid for $F$.
\end{proof}

There is some important connections between the equivalence of two projections and their central cover.

\begin{lem}
	If $E$ and $F$ are two projections in $\A$  with $E \sim F$, then $C_E = C_F$. Therefore, if $E \lesssim F$, then $C_E \leqslant C_F$.
\end{lem}
\begin{proof}
	By \textbf{Proposition} \ref{prop19} in the subsection \textbf{6.1.2} and the fact $E = \st{W}W$ and $F = W\st{W}$,
	\begin{equation*}
		C_E  = C_F \qedhere
	\end{equation*}
\end{proof}

\begin{prop}
	If $E$ and $F$ are two projections in $\A$, then the following statements are equivalent.
	\begin{enumerate}[label=\arabic*)]
		\item There are nonzero projections $E_1$ and $F_2$ in $\A$ s.t. $E_1 \leqslant E$ and $F_1 \leqslant F$, and $E_1 \sim F_1$
		\item $C_E C_F  \neq 0$.
		\item $E\A F \neq \{0\}$.
	\end{enumerate}
\end{prop}
\begin{proof}
	$1) \Rightarrow 2)$: By above lemma, $C_{E_1} =  C_{F_1}$ and $C_{E_1} \leqslant C_{E}$ and $C_{F_1} \leqslant C_{F}$, thus $C_E C_F  \neq 0$.
	\item $2) \Rightarrow 3)$: Since $C_E = \clo{\spn{\A E}}$ and $C_F = \clo{\spn{\A F}}$, if $E\A F = \{0\}$, $EC_F = 0$. Thus $C_E  \leqslant C_F^{bot}$, which is a contradition.
	\item $3) \Rightarrow 2)$: If $A \in \A$ s.t. $EAF \neq 0$, let $E_1 = \cran{EAF}$ and $F_1 = \cran{\st{EAF}} = \cran{F\st{A}E}$. Therefore, $E_1 \leqslant E$ and $F_1 \leqslant F$, and $E_1 \sim F_1$.
\end{proof}

\begin{thm}[Comparison Theorem]
	If $E$ and $F$ are two projections in $\A$, then there is a central projection $Z$ s.t.
	\begin{equation*}
		ZE \lesssim ZF, \text{ and } Z^{\bot}F \lesssim Z^{\bot}E
	\end{equation*}
\end{thm}
\begin{proof}
	Finding $Z$. \\
	By Zorn's Lemma, there is a maximal family $\{(E_i,F_i)\}$ of pairs of projections in $\A$ s.t. for all $i$,
	\begin{equation*}
		E_i \sim F_i,~ E_i \leqslant E,~ F_i \leqslant F
	\end{equation*}
	and $\{E_i\}$ and $\{F_i\}$ are pairwise orthogonal. Then by above proposition,
	\begin{equation*}
		E^{'} = \sum_i  E_i \sim \sum_i F_i = F^{'}
	\end{equation*}
	Then put $E^{''} = E - E^{'}$ and $F^{''} = F - F^{'}$. Therefore by the maximality and above proposition, $C_{E^{''}}C_{F^{''}} = 0$, then put $Z = C_{F^{''}}$.\\
	Check: $ZE \lesssim ZF$ and $Z^{\bot}F \lesssim Z^{\bot}E$. \\
	Let $W$ be the partial iosmetry s.t. $E^{'} = \st{W}W$ and $F^{'} = W\st{W}$. Then $ZE^{'} \sim_{ZW} ZF^{'}$. Therefore,
	\begin{equation*}
		EZ = E^{'}Z + E^{''}Z = E^{'}Z + E^{''}C_{E^{''}}C_{F^{''}} = E^{'}Z \sim ZF^{'} \leqslant ZF
	\end{equation*}
	Hence, $ZE \lesssim ZF$. Similarly, $Z^{\bot}F \lesssim Z^{\bot}E$.
\end{proof}

\begin{cor}
	If $\A$ is a factor and $E$ and $F$ are two projections in $\A$, then either $E \lesssim F$ or $F \lesssim E$.
\end{cor}

\begin{lem}
	If $\mathcal{L}$ is a complete lattice and $\tau \colon \mathcal{L} \sto \mathcal{L}$  is an order preserving map, then there is an $x_0 \in \mathcal{L}$ s.t. $x_0 = \tau(x_0)$.
\end{lem}
\begin{proof}
	Put $T = \{x \in \mathcal{L} \colon x \leqslant \tau(x)\}$ and $x_0 = \sup{T} \in \mathcal{L}$. If $x \in T$, then
	\begin{equation*}
		x \leqslant x_0, \text{ and } x \leqslant \tau(x) \leqslant \tau(x_0) \Rightarrow x_0 \leqslant \tau(x_0)
	\end{equation*}
	Conversely, above inequality implies that $\tau(x_0) \leqslant \tau(\tau(x_0))$, thus $\tau(x_0) \in T$. Therefore, $x_0 \geqslant \tau(x_0)$.
\end{proof}

\begin{thm}
	If $E$ and $F$ are two projections in $\A$ s.t. $E \lesssim F$ and $F \lesssim E$, then $E \sim F$.
\end{thm}
\begin{proof}
	Let $W$ and $V$ and two partial isometry s.t. $E = \st{W}W$ and $W\st{W} \leqslant F$ and $F = \st{V}V$ and $V\st{V} \leqslant E$. Let $\mathcal{L}$ be the set of all projection $G$ in $\A$ s.t. $G \leqslant F$. Then $\mathcal{L}$ is complete lattice. Define the map $\tau$ on $\mathcal{L}$ as
	\begin{center}
		\begin{tabular}{l c c l}
			$\tau \colon$ & $\mathcal{L}$ & $\longrightarrow$ & $\mathcal{L}$ \\
			~ & $G$ & $\longmapsto$ & $F-\st{W}(E-\st{V}GV)W$
		\end{tabular}
	\end{center}
	It is straightforward that $\tau$ is a order serving map, thus by above lemma, it has a fixed point $P$. Let $V_1 = PV$ and $W_1 = (E-\st{V}PV)W$, then
	\begin{eqnarray*}
		V_1\st{V_1} = P &,~& \st{V_1}V_1  = \st{V}PV \\
		W_1\st{W_1} = F - P &,~& \st{W_1}W_1 = E - \st{V}PV
	\end{eqnarray*}
	Thus $P \sim \st{V}PV$ and $F - P \sim E - \st{V}PV$, and by the additivity of equivalence, $F \sim E$.
\end{proof}

\subsection{Classification}

\begin{defn}
	A projection $E$ in a von Neumann algebra $\A$ is finite if the only projection $F$ in $\A$ s.t. $F \leqslant E$ and $F \sim F$ is $F = E$. Otherwise, $E$ is infinite. A von Neumann algebra $\A$ is called finite or infinite if the identity is finite or infinite.
\end{defn}
\begin{rem}
	This definition generalize the concept of finity. It is useful. In fact, any projection containing in an abelian von Neumann algebra $\A$ is finite. Finite von Neumann algebras have similar properties to ablian von Neumann algebras. Therefore under this classification of projections, the concept of abelian von Neuman algebras can be generalized.
\end{rem}

\begin{prop}
	\begin{enumerate}[label=\arabic*)]
		\item If $E$ is finite and $F \lesssim E$, then $F$ is finite.
		\item If $\A$ is a finite von Neumann algebra and $E$ is a projection in $\A$, then $\A_E$ is finite.
		\item If $\{E_i\}$ is a family of finite projections in $\A$ s.t. $\{C_{E_i}\}$ is pairwise orthogonal, then $\sum_i E_i$ is a finite projection.
		\item If $\{Z_i\}$ is a family of finite central projections, then $Z = \bigwedge_i Z_i$ is a finite central projection.
		\item If $\rho \colon \A \sto \B$ is a $*$-isomorphism and $E$ is a finite projection in $\A$, then $\rho(E)$ is a finite projection in $\B$.
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, assume that $F \leqslant E$. If $F_1 \leqslant F$ and $F_1 \sim F$, then by the addivity, 
	\begin{equation*}
		F_1 + (E - F) \sim E
	\end{equation*}
	By finiteness, $F_1 + (E - F) = E$. Therefore, $F_1 = F$, i.e. $F$ is finite. Then it is sufficient to prove that $F \sim E$ impiles that $F$ is finite. Let $W$ be the partial isometry s.t. $\st{W}W = F$ and $W\st{W} = E$. If $F_1 \leqslant F$ and $F_1 \sim F$, then $E_1 = WF_1$ satisfies
	\begin{equation*}
		E_1 \sim F_1 \sim F \sim E
	\end{equation*}
	Since $E$ is finite, $E_1 = E$. Therefore, $F = \st{W}E = \st{W}W E_1 = F_1$. Thus $F$ is finite. $2)$ holds by $1)$.
	\item For $3)$, put $E = \sum_i E_i$. Let $F \leqslant E$ be a projection in $\A$ s.t. $F \sim_{W} E$. For any $i$, 
	\begin{equation*}
		E - E_i \leqslant \sum_{j \neq i} C_{E_j} \Rightarrow (E - E_i)C_{E_i} = 0
	\end{equation*}
	Therefore, $E_i = EC_{E_i}$. Then for $W_i = WC_{E_i}$, $FC_{E_i} \sim_{W_i} EC_{E_i} = E_i$. Since $FC_{E_i} \leqslant EC_{E_i} = E_i$, $FC_{E_i} = E_i$. Therefore,
	\begin{equation*}
		E = \sum_i E_i = \sum_i FC_{E_i} \leqslant F \leqslant E
	\end{equation*}
	So $F = E$ and $E$ is finite.
	\item For $4)$, let $F \leqslant Z$ and $F \sim Z$, then $Z_i F \sim Z_i Z = Z_i$. Since $Z_i$ is finite, $Z_i F = Z_i$. Therefore, $F = Z$ and $Z$ is finite.
	\item $5)$ is true by definition.
\end{proof}

\begin{cor}
	If $\{\A_i\}$ is a collection of von Neumann algebras, then $\bigotimes \A_i$ is a finite von Neumann algebra if and only if each $\A_i$ is finite.
\end{cor}

There are some similar properties of finite von Neumann algebra as abelian von Neumann algebra.

\begin{prop}
	$\A$ is finite if and only if every left (or right) invertible element of $\A$ is invertible.
\end{prop}
\begin{proof}
	Assume that every left (or right) invertible element of $\A$ is invertible. If $E \sim_W 1$. Since $W\st{W} = 1$, $\st{W}W = 1 =E$. Thus, $\A$ is finite. Conversely, if $\A$ is finite and $A, B \in \A$ s.t. $AB = 1$, then $\ran{A} = 1$. But $\cran{\st{A}} \sim \cran{A}$. Therefore, $\cran{\st{A}} = 1$ by the finiteness. So, $\ker{A} = 0$. And combining the fact $\ran{A} = 1$, i.e $A$ is surjection, $A$ is invertible.
\end{proof}

\begin{prop}
	Let $\A$ be a finite von Neumann algebra.
	\begin{enumerate}[label=\arabic*)]
		\item If $E, E_1, F$ and $F_1$ are projections in $\A$ s.t. $E_1 \leqslant E$, $F_1 \leqslant F$ and $E \sim F$, $E_1 \sim F_1$, then 
		\begin{equation*}
			E - E_1 \sim F - F_1
		\end{equation*}
		\item If $E$ and $F$ are equivalent projections in $\A$, then there is a unitary  $U$ in $\A$ s.t. $\st{U}EU \sim F$.
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, by the Comparison Theorem, there is a central projection $Z$ s.t.
	\begin{eqnarray*}
		(E - E_1)Z &\lesssim& (F - F_1)Z \\
		(F - F_1)Z^{\bot} &\lesssim& (E - E_1)Z^{\bot}
	\end{eqnarray*}
	Choosing $F_2$ s.t. $F_2 \leqslant (F - F_1)Z$ and $F_2 \sim (E - E_1)Z$. Therefore, $F_2 + F_1Z \leqslant FZ$ and by the addivity
	\begin{equation*}
		F_2 + F_1Z \sim (E - E_1)Z + E_Z \sim = EZ \sim FZ
	\end{equation*}
	Since $FZ$ is finite, $F_2 + F_1Z = FZ$. Therefore, $F_2 = (F-F_1)Z$. That is, $(E - E_1)Z \sim (F - F_1)Z$. And similarly, $(E - E_1)Z^{\bot} \sim (F - F_1)Z^{\bot}$.
	\item For $2)$, by $1)$, $E \sim_W F$ implies that $E^{\bot} \sim_V F^{\bot}$. Then let $U = W + V$. $U$ is a unitary and $\st{U}EU = F$.
\end{proof}

\begin{defn}
	\begin{enumerate}[label=\arabic*)]
		\item $E$ is called an abelian projection in a von Neumann algebra if $E\A E \cong \A_E$ is an abelian von Neumann algebra.
		\item An von Neumann algebra $\A$ is called discrete if for every nonzero central projection $Z$ there is a nonzero abelian projection with $F \leqslant E$.
		\item An von Neumann algebra $\A$ is continuous if it contains no nonzero abelian projections.
		\item A projection $E$ in $\A$ is called discrete or continuous if $\A_E$ is discrete or continuous.
	\end{enumerate}
\end{defn}

\begin{prop}
	Let $\A$ be a von Neumann algebra.
	\begin{enumerate}[label=\arabic*)]
		\item A projection $E$ in $\A$ is discrete if and only if for every central projection $Z$ in $\A$ with $ZE \neq 0$, there is an abelian projection $F$ in $\A$ with $F \leqslant ZE$.
		\item A projection $E$ in $\A$ is continuous if and only if there is no nonzero abelian projection $F$ in $\A$ satifying $F \leqslant E$.
		\item Let $\B$ be a von Neumann algebra and $\rho \colon \A \sto \B$ be a normal, surjective $*$-homomorphism, and $E$ be a projection in $\A$. If $E$ is continous (or discrete or abelian), then $\rho(E)$ is continous (or discrete or abelian).
		\item If $E$ is continous (or discrete or abelian) in $\A$ and $F$ is a projection in $\A$ with $F \leqslant E$, then $F$ is continous (or discrete or abelian).
		\item If $\{E_i\}$ is a family of continous (or discrete or abelian) projections in $\A$ s.t. $\{C_{E_i}\}$ is pairwise orthogonal, then $\sum_i E_i$ is a continous (or discrete or abelian) projection.
	\end{enumerate}
\end{prop}
\begin{proof}
	For $1)$, it holds because that the center of $\A_E$ is $\fml{Z}_E$. Then for any $Z \in \fml{Z}$, there is an abelian projection $F \leqslant E$ in $\A$ with $FE \neq 0$ s.t. $EFE \leqslant EZE$, i.e. $F \leqslant ZE$. The converse is similar.
	\item The proof of $2)$ is simialr as $1)$.
	\item For $3)$, it can assume $\rho$ is a $*$-isomorphism, then it follows by the definition.
	\item If $E \sim F$, then there is a normal, surjective $*$-homomorphism from $\A_E$ to $\A_F$. Therefore, by $3)$, it sufficiently assumes $F \leqslant E$. Then since $F \A F \subset E \A E$, if $E$ is abelian or continuous, $F$ is clearly abelian or continuous. \\
	Assume $E$ is discrete and $F \leqslant E$. Replacing $\A_E$ by $\A$, i.e. assuming $E = 1$ and $\A$ is discrete. Let $Z$ be a central projection with  $ZF \neq 0$. Thus
	\begin{equation*}
		ZC_F = C_{ZF} \neq 0
	\end{equation*}
	Then by the discreteness of $\A$, there is an abelian projection $G \leqslant ZC_F$. Therefore, 
	\begin{equation*}
		C_G C_{ZF} = C_{ZF} \neq 0
	\end{equation*}
	Then there are $G_1 \leqslant G$ and $F_1 \leqslant ZF$ s.t. $G_1 \sim F_1$. Thus $F_1 \lesssim G$, i.e. $F_1$ is abelian. Then by $1)$, $F$ is discrete. 
	\item Let $E_i$ be abelian. Since $\{C_{E_i}\}$ is pairwise orthogonal, if $A, B \in \A$, by the  fact, $EAE = \sum_i (EAE)C_{E_i}$ because $C_E = \sum_i C_{E_i}$,
	\begin{eqnarray*}
		(EAE)(EAE) &=& (\sum_i E_i A E_i)(\sum_j E_j B E_j) \\
		&=& \sum_i (E_i A E_i)(E_i B E_i) \\
		&=& \sum_i (E_i B E_i)(E_i A E_i) \\
		&=& (EBE)(EAE)
	\end{eqnarray*}
	Therefore, $E$ is abelian. \\
	Assume $E_i$ is discrete. If $Z$ is a central projection with $ZE \neq 0$, then for some $i$, $ZE_i \neq 0$. Then let $G_i \leqslant ZE_i$ be the abelian projection. If $ZE_i = 0$, let $G_i = 0$. Put $G = \sum_i G_i$ and since $C_{G_i} \leqslant C_{E_i}$, $G$ is abelian. Therefore, $E$ is discrete. Similarly, using $2)$, if $E_i$ is continuous, $E$ is continuous.
\end{proof}
\begin{rem}
	By $1)$ and $2)$, a projection in $\A$ is either discrete and continuous.
\end{rem}

\begin{cor}
	If $\{\A_i\}$ is a collection of von Neumann algebras and $\A = \bigotimes_i \A_i$, then $\A$ is continous (or discrete or abelian) if and only if each $A_i$ is continous (or discrete or abelian).
\end{cor}

If two projections $E$ and $F$ satisfy $F \lesssim E$, then $C_F \leqslant C_E$. But the converse is not alway true. However, if $E$ and $F$ are abelian, the converse holds.

\begin{lem}
	If $E$ is an abelian projection and $F \leqslant E$, then $F = C_F E$.
\end{lem}
\begin{proof}
	Since $E$ is abelian, $E \A E$ is abelian. In fact, $F \A (E-F) = \{0\}$. It is because that for any $A \in \A$,
	\begin{equation*}
		FA(E-F) = F(EAE)(E - F) = F(E - F)(EAE) = 0
	\end{equation*}
	Therefore, 
	\begin{equation*}
		C_F = \clo{\A F} \bot C_{E-F} = \clo{\A (E - F)}
	\end{equation*}
	In particular, $C_F(E-F) = 0$.
\end{proof}

\begin{prop}
	If $E$ and $F$ are abelian projections, then $F \lesssim E$ if and only if $C_F \leqslant C_E$.
\end{prop}
\begin{proof}
	Assume $C_F \leqslant C_E$. By Comparison Theorem, there is a central projection $Z$ s.t. $ZE \lesssim ZF$ and  $Z^{\bot}F \lesssim Z^{\bot}E$. It can assume that $ZE \leqslant ZF$ by above proposition. Since $ZF$ is abelian and by above lemma,
	\begin{equation*}
		ZE = ZF C_{ZE} = ZF C_E = ZF
	\end{equation*}
	Therefore,
	\begin{equation*}
		F = ZF + Z^{\bot}F = ZE + Z^{\bot}F \lesssim E  \qedhere
	\end{equation*}
\end{proof}

\subsection{Properties of Continuous Projections}

For continuous projections, there is some decomposition like Lebeshue Decomposition for general measures.

\begin{lem}
	If $E$ is not an abelian projection, then there are projections $E_1, E_2$ in $\A$ that are dominated by $E$ and s.t. $E_1 \bot E_2$ and $E_1 \sim E_2$.
\end{lem}
\begin{proof}
	Since $E$ is not abelian, there is a projection $F \leqslant E$ that does not belong to the center of $E \A E$, $\fml{Z}E$.
	\item Claim: $F \A (E-F) \neq \{0\}$. \\
	If for any $A \in \Rea{\A}$, $F A (E-F) = 0$. Then $FAE = FAF$ and $EAF = FAF$. Therefore,
	\begin{equation*}
		F(EAE) = FAE = FAF = EAF = (EAE)F
	\end{equation*}
	That is $F$ is in the center of $E \A E$, which is a contradiction.\\
	$F \A (E-F) \neq \{0\}$ implies that there are $E_1 \leqslant F$ and $E_2 \leqslant E-F$ s.t. $E_1 \sim E_2$.
\end{proof}

\begin{thm}
	If $E$ is continuous, then there are projections $E_1$ and $E_2$ in $\A$ s.t. $E_1 \bot E_2$, $E_1 \sim E_2$ and $E = E_1 + E_2$.
\end{thm}
\begin{proof}
	Concisder the collection of all sets of pairs $\{E_{1i},E_{2i}\}$ s.t. for all $i$,
	\begin{equation*}
		E_{1i} \sim E_{2i},~ E_{1i},E_{2i} \leqslant E_{ni} \bot E_{mj}
	\end{equation*}
	for $i \neq j$ and $m,n = 1,2$. Then by above lemma this set is not empty and then by Zorn's Lemma, there is a maximal element $\{E_{1i},E_{2i}\}$ and put
	\begin{equation*}
		E_1 = \sum_i E_{1i},~ E_2 = \sum_i E_{2i}
	\end{equation*}
	By the additivity, $E_1 \sim E_2$ and clearly, $E_1 \bot E_2$. And by the maximality and the continuity of $E$, $E = E_1 + E_2$.
\end{proof}

\begin{cor}
	The projection $E$ is continuous if and only if for every $F \leqslant E$, there are projections $F_1$ and $F_2$ in $\A$ s.t. $F_1 \bot F_2$, $F_1 \sim F_2$ and $F = F_1 + F_2$.
\end{cor}
\begin{proof}
	If $E$ is continuous, so is each its subprojection, thus by above theorem it is true. And the converse is trivial.
\end{proof}

\section{Type \texorpdfstring{\RNum{1}}{I} Von Neumann Algebras}

\subsection{Classification of Von Neumann Algebras}

Then by using the classifications of projections, von Neumann algebras can be classified as following categories.

\begin{defn}
	A von Neumann algebra $\A$ is:
	\begin{enumerate}[label = \arabic*)]
		\item Type \RNum{1}$_n$ if it is finite and discrete.
		\item Type \RNum{1}$_{\infty}$ if it is infinite and discrete.
		\item Type \RNum{2}$_1$ if it is finite and continuous.
		\item Type \RNum{2}$_{\infty}$ if it is infinite and continuous and every nonzero central projection dominates a nonzero finite projections.
		\item Type \RNum{3} if it contains no nonzero finite projections.
	\end{enumerate}
\end{defn}

\begin{prop}
	Let $\A$ be a von Neumann algebra and $E \in \A$ be a projection.
	\begin{enumerate}[label = \arabic*)]
		\item If $\A$ is Type \RNum{1} (\RNum{2}, or \RNum{3}), then $\A_E$ is Type \RNum{1} (\RNum{2}, or \RNum{3}).
		\item If $\A$ is Type \RNum{1}$_n$, then $\A_E$ is Type \RNum{1}$_n$.
		\item If $\A$ is Type \RNum{2}$_1$, then $\A_E$ is Type \RNum{2}$_1$.
	\end{enumerate}
\end{prop}
\begin{proof}
	Just need to prove the cases of Type \RNum{2} and Type \RNum{3}. Let $Z$ be a central projection in $\A$ s.t. $EZ \neq 0$. If $\A$ is Type \RNum{2}, then there is a nonzero finite projection $F$ with $F \leqslant Z$. Thus \begin{equation*}
		EZF = EZ \neq 0
	\end{equation*}
	Then there are $E_1 \leqslant EZ$ and $F_1 \leqslant F$ s.t. $E_1 \sim F_1$. Therefore, $E_1$ is finite and thus $\A_E$ is Type \RNum{2}. If $\A$ is Type \RNum{3}, then $\A$ contains no nonzero finite projection, thus $\A_E$ contains no nonzero finite projection, and continuity of $\A_E$ is clear. Therefore, $\A_E$ is Type \RNum{3}.
\end{proof}

\begin{prop}
	Let $\{A_i\}$ be a class of von Neumann algebras and put $\A = \bigoplus_i \A_i$.
	\begin{enumerate}[label = \arabic*)]
		\item $\A$ is Type \RNum{1}$_n$ if and only if each $\A_i$ is Type \RNum{1}$_n$.
		\item $\A$ is Type \RNum{1}$_{\infty}$ if and only if each $\A_i$ is Type \RNum{1} and at least one of them is Type \RNum{1}$_{\infty}$.
		\item $\A$ is Type \RNum{2}$_1$ if and only if each $\A_i$ is Type \RNum{2}$_1$.
		\item $\A$ is Type \RNum{2}$_{\infty}$ if and only if each $\A_i$ is Type \RNum{2} and at least one of them is Type \RNum{2}$_{\infty}$.
		\item $\A$ is Type \RNum{3} if and only if each $\A_i$ is Type \RNum{3}.
	\end{enumerate}
\end{prop}

\begin{thm}
	If $\A$ is a von Neumann algebra, then there are unique pairwise orthogonal central projections $Z_1,\cdots,Z_5$ with $\sum_{i=1}^5 Z_i = 1$ s.t.
	\begin{enumerate}[label = \arabic*)]
		\item $\A Z_1$ is Type \RNum{1}$_n$.
		\item $\A Z_2$ is Type \RNum{1}$_{\infty}$.
		\item $\A Z_3$ is Type \RNum{2}$_1$.
		\item $\A Z_4$ is Type \RNum{2}$_{\infty}$.
		\item $\A Z_5$ is Type \RNum{3}. 
	\end{enumerate}
\end{thm}
\begin{proof}
	Define the central projections as
	\begin{eqnarray*}
		H &=& \sup{\{Z \colon Z \text{ is a central projection, } \A Z \text{ is Type \RNum{1}} \}} \\
		K &=& \sup{\{Z \colon Z \text{ is a central projection, } \A Z \text{ is Type \RNum{2}} \}}
	\end{eqnarray*}
	Then it is easy to see $\A H$ is Type \RNum{1} and $\A K$ is Type \RNum{2} and $HK=0$. Put
	\begin{equation*}
		Z_5 = 1 - (H + K)
	\end{equation*}
	Check: $\A Z_5$ is continuous. \\
	Assume there is an abelian projection $P$ in $\A Z_5$. Clearly, its central cover $C_P \leqslant Z_5$. If $G$ is any nonzero central projection in $\A C_P$. Then $G$ is also a central projection in $\A$. Moreover, $GP \neq 0$, and $(GP)\A (GP) = G(P\A P)$ is abelian. That means $\A C_P$ is Type \RNum{1}. Thus $C_P \leqslant H$. Therefore, $C_P = 0$. Then $P = 0$. Since $P$ is arbitrary, $\A Z_5$ is continuous.
	\item Check: $\A Z_5$ is Type \RNum{3}. \\
	Suppose there is a nonzero finite projection $P$ in $\A Z_5$. Similarly, $\A C_P$ is continuous. If $G$ is any central projection of $\A C_P$, then $G \in \fml{Z}$ and $G \leqslant C_P$. Thus $GC_P \neq 0$ and $GP$ is finite. Therefore, $\A C_P$ is Type \RNum{2}. Thus $C_P \leqslant K$, then $C_P = 0$ i.e. $P=0$.\\
	Then define $F = \sup{\{Z \colon Z \text{ is a finite central projection}}$. Put $Z_1 = HF$, $Z_2 = HF^{\bot}$, $Z_3 = KF$ and $Z_4 = KF^{\bot}$.
\end{proof}

\begin{cor}
	If $\A$ is a factor, then $\A$ is exactly one of the Type \RNum{1}$_n$, \RNum{1}$_{\infty}$, \RNum{2}$_1$, \RNum{2}$_{\infty}$ and \RNum{3}.
\end{cor}

\subsection{The Structure of Type \texorpdfstring{\RNum{1}}{I} Factors}

\begin{defn}
	A projection is faithful if its central cover is identity.
\end{defn}
\begin{rem}
	In abelian von Neumann algebra, no projection is faithful other than the identity. In a factor, every nonzero projection is faithful. And by above proposition any two faithful projections are equivalent.
\end{rem}

\begin{prop}
	A von Neumann algebra is Type \RNum{1} is if and only if it has a faithful abelian projection.
\end{prop}
\begin{proof}
	If $E$ is a faithful abelian projection in $\A$ and $G$ is any nonzero central projection in $\A$, then $EG \neq 0$ because of $C_EC_G = C_G \neq 0$. And the fact that $(EG)\A (EG) = G (E\A E)$ is abelian means $EG \leqslant G$ is abelian, thus $\A$ is Type \RNum{1}.\\
	Conversely, assume $\A$ is Type \RNum{1}. By Zorn's Lemma there is a maximal family $\{E_i\}$ of abelian projections s.t. $C_{E_i} \bot C_{E_j}$ for $i \neq j$, then set $Z = \sum_i C_{E_i}$. $\A Z^{\bot}$ is Type \RNum{1}. So if $Z^{\bot} \neq 0$, it contradicts to the maximality. Therefore, $Z = 1$. If $E = \sum_i E_i$, $E$ is abelian and $C_E = Z = 1$.
\end{proof}

\begin{lem}
	If $\A$ is a von Neumann algebra and $E \in \A^{'}$ is a projection, then the kernel of $*$-homomorphism $A \sto A_E$ is $\A (1-C_E)$.
\end{lem}
This lemma is trivial but has a useful corollary.
\begin{cor}
	A projection $E$ is faithful if and only if the $*$-homomorphism $A^{'} \sto A_E^{'}$ from $\A^{'}$ to $\A_E^{'}$ is an isomorphism.
\end{cor}

\begin{thm}
	The following statements are equivalent.
	\begin{enumerate}[label=\arabic*)]
		\item $\A$ is Type \RNum{1} von Neumann algebra.
		\item $\A^{'}$ is Type \RNum{1} von Neumann algebra.
		\item $\A$ is $*$-isomorphic to a von Neumann algebra with abelian commutant.
	\end{enumerate}
\end{thm}
\begin{proof}
	$1) \Rightarrow 2)$: If $\A$ is abelian, then $\A = \fml{Z}$. Let $G$ be any nonzero projection in $\A$ and pick any nonzero vector $h$ in $G$. Let $E = \clo{\spn{\A h}}$. Then $E \neq 0$, $E \in \A^{'}$, $E \leqslant G$ and $\A E$ is abelian in $\fml{B}(E)$. But $h$ is a cyclic vector for $\A_E$, thus $\A_E$ is a masa. That means
	\begin{equation*}
		\A_E = (\A_E)^{'} = \A_E^{'} \cong E\A^{'}E
	\end{equation*}
	Then $E$ is a abelian projection in $\A^{'}$, thus $\A^{'}$ is Type \RNum{1}.\\
	In general case, there is a faithful abelian projection $F$ in $\A$. By above corrollary,
	\begin{equation*}
		\A^{'} \cong \A^{'}_F = (\A_F)^{'}
	\end{equation*}
	But $\A_F$ is abelian, thus by the mention above, $\A^{'}_F$ is Type \RNum{1}, and $\A^{'}$ is Type \RNum{1}.
	\item $2) \Rightarrow 3)$: That $\A^{'}$ is Type \RNum{1} means there is a faithful abelian projection $Q$ and $\A \cong \A_Q$. Clearly, $(\A_Q)^{'} = \A^{'}_Q$ is abelian.
	\item $3) \Rightarrow 1)$: If $\A \cong \B$ and $\B^{'}$ is abelian, i.e. $\B^{'}$ is Type \RNum{1}, then by that $1)$ implies $2)$, $\A$ is Type \RNum{1}.
\end{proof}

\begin{cor}
	If $\A$ is continuous, then $\A^{'}$ is also continuous.
\end{cor}

Then the structure of Type \RNum{1} algebra has revealed to some extend. But it can be more explicit. Firstly, for a spectial case, the structure of Type \RNum{1} factor, it has a clear consequence.

\begin{prop}
	If $\A$ is abelian and $Q$ is a faithful abelian projection in $\A^{'}$, then $\A$ is isomorphic to $\A_Q$ and $\A_Q$ is a masa in $\fml{B}(Q)$.
\end{prop}
\begin{proof}
	Since $\A$ is abelian, $\fml{Z}_{\A^{'}} = \A \cap \A^{'}$. Because $Q$ is faithful in $\A^{'}$, $A \mapsto AQ$ is an isomorphsim from $\A$ to $\A_Q$ by above lemma. To see the maximality, firstly since $\A_Q$ is abelian,
	\begin{equation*}
		\A_Q \subset (\A_Q)^{'} = \A^{'}_Q
	\end{equation*}
	On the other hand, since $Q$ is abelian in $\A^{'}$, $\A^{'}_Q$ is abelian,
	\begin{equation*}
		\A^{'}_Q \subset \A^{''}_Q = \A_Q \qedhere
	\end{equation*}
\end{proof}
\begin{rem}
	If $\Hs$ is separable, $Q$ indeed exists. Let $h$ be the separating vector for $\A$ and $Q = \clo{\spn{\A h}}$. Then $Q$ is in $\A^{'}$ and $\A_Q$ is maximal. Since $h$ is separating $\A$, it is cyclic for $\A^{'}$, i.e $C_Q = 1$.
\end{rem}

\begin{prop}
	If $\A$ is a von Neumann algebra and $E$, then a projection $E$ in $\A$ is minimal if and only if $E \A E$ is one dimensional. Moreover, if $E$ is minimal, then $E$ is abelian, and $C_E$ is a minimal projection in the center of $\A$, and $\A_{C_E}$ is a factor, and $\A^{'}_E = \fml{B}(E)$.
\end{prop}
\begin{proof}
	If $E \A E$ is one domensional, then $E\A E = \C E$, so there is no nonzero projection in $\A$ dinominated by $E$. Conversely, if $E$ is minimal, then the fact that $E\A E$ is generated by all its projections implies that $E$ is one dimensional.\\
	By mention above, if $E$ is minimal, it is clear abelian. If $Z \leqslant C_E$ in the center of $\A$, then $ZE \leqslant E$. Therefore, either $ZE = 0$ or $ZE = E$. Thus it is easy to see $Z = 0$ or $Z = E$. 
	\begin{equation*}
		\A^{'}_E = (\A_E)^{'} = (\C E)^{'} = \fml{B}(E)
	\end{equation*}
	Applying above lemma to $\A_{C_E}$, 
	\begin{equation*}
		\A^{'}_{C_E} \cong \A^{'}_{EC_E} = \A^{'}_{E} = \fml{B}(E)
	\end{equation*}
	Therefore, $\A^{'}_{C_E}$ is a factor, so is $\A_{C_E}$.
\end{proof}

\begin{thm}
	$\A$ is a Type \RNum{1} factor if and only if there is a Hilbert space $\fml{K}$ s.t. $\A$ is $*$-isomorphic to $\fml{B}(\fml{K})$. 
\end{thm}
\begin{proof}
	Assume $\A$ is Type \RNum{1} factor. Then $\A^{'}$ is also a Type \RNum{1} factor by the mention above. Let $E$ be an abelian projection in $\A^{'}$. Since $\A^{'}_E$ is abelian, $\A^{'}_E = \fml{Z}_E = \C E$. Thus $E$ is a minimal projection in $\A^{'}$. By preceding proposition, $\A_E = \fml{B}(E)$. Also, the fact that $\A$ is a factor implies that $C_E = 1$. Therefore, $\A \cong \A_E = \fml{B}(E)$. The converse is trivial.
\end{proof}

\subsection{Homogeneous Von Neumann Algebras}

\begin{defn}
	A von Neumann algebra is homogeneous if there is a family of pairwise orthogonal abelian projections that are mutually equivalent and whose sum is identity.
\end{defn}
\begin{rem}
	Any homogeneous von Neumann algebra is Type \RNum{1}, since that a projection $E$ is abelian implies that $ZE$ is abelian for any central projection $Z$. Moreover, any one of these pairwise orthogonal projections that are mutually equivalent and whose sum is identity is faithful.
\end{rem}

To get more information of homogeneous algebras, matrix is a useful method.

\begin{defn}
	If $\A$ is a von Neumann algebra and $n$ is some cardinal number, let
	\begin{equation*}
		M_n(\A) = \left\{ (\A^{'})^{(n)}\right\}^{'}
	\end{equation*}
\end{defn}
\begin{rem}
	Recall that if $\mathcal{S} \subset \oper$, then for $1 \leqslant n \leqslant \infty$,
	\begin{equation*}
		\{\mathcal{S}^{(n)}\}^{'} = \{T = [T_{ij}] \in \fml{B}(\Hs^{(n)}) \colon T_{ij} \in \mathcal{S}^{'}\} 
	\end{equation*}
	Therefore, the definition above actually extends $n$ from $1 \leqslant n \leqslant \infty$ to any cardinal number. In fact, if $1 \leqslant n \leqslant \infty$,
	\begin{equation*}
		M_n(\A) = \left\{ (\A^{'})^{(n)}\right\}^{'} = \{T = [T_{ij}] \in \fml{B}(\Hs^{(n)}) \colon T_{ij} \in \A^{''} = \A\}
	\end{equation*}
\end{rem}

\begin{prop}
	If $\A$ is a von Neumann algebra with the center $\fml{Z}$ and $n$ is some cardinal number, then $M_n(\A)$ is a von Neumann algebra, $M_n(\A)^{'} = (\A^{'})^{(n)}$, and its center is $\fml{Z}^{(n)}$. If $\A$ is a factor, so is $M_n(\A)$. If $\A$ is abelian and $n$ is finite, then $M_n(\A)$ is finite.
\end{prop}
\begin{proof}
	First two consequences are obtained by definition. Assume $\A$ is abelian and $n$ is finite. So it suffices that there is a compact space $X$ and let $\A = C(X)$. Consider the normalized trace $\omega$ on $M_n(\C)$ and define $\tau \colon M_n(\A) \sto C(X)$ by 
	\begin{equation*}
		\tau([f_{ij}])(x) = \omega([f_{ij}(x)] = n^{-1}\sum_{i=1}^n f_{ij}(x)
	\end{equation*}
	Then $\tau$ has these properties:
	\begin{enumerate}[label=\arabic*)]
		\item $\tau$ is linear and $\tau(1)=1$.
		\item $\tau$ is positive and non-degenerate.
		\item $\tau(FG) = \tau(GF)$ for any $G,F \in M_n(\A)$.
	\end{enumerate}
	$1)$ is clear. $3)$ is because of the similar property of trace. For $2)$, if $F = [f_{ij}] \leqslant 0$, then $[f_{ij}(x)]$ is positive in $M_n(\C)$ for any $x \in X$. Therefore, $\tau(F)(x) = \omega([f_{ij}(x)]) \leqslant 0$ for any $x \in X$. Thus $\tau(F) \leqslant 0$, i.e. $\tau$ is positive. If $\tau(F) = 0$, i.e. $ \omega([f_{ij}(x)]) = 0$ for any $x$, then $F(x) = 0$ for all $x$.\\
	If $E$ is any projection in  $M_n(\A)$ and $E \sim 1$, then there is some partial isometry $W$ in $M_n(\A)$ s.t. $E = W^{*}W$ and $1 = WW^{*}$. 
	\begin{equation*}
		\tau(E) = \tau(W^{*}W) = \tau(WW^{*}) = 1 \Rightarrow \tau(1 - E) = 0
	\end{equation*}
	Therefore, $E = 1$.
\end{proof}
\begin{rem}
	If $\A$ is any von Neumann algebra with the center $\fml{Z}$, a map $\tau \colon \A \sto \fml{Z}$ satifing above $1)$, $2)$ and $3)$ is called a faithful, central-valued trace.
\end{rem}

\begin{cor}
	If $\A$ is a von Neumann algebra with a faithful, central-valued trace, then $\A$ is finite.
\end{cor}

\begin{prop}
	Let $\A$ be a von Neumann algebra and $\{E_i\}$ be a collection of pairwise orthogonal, mutually equivalent projection in $\A$ with $\sum_i E_i = 1$. If $\{E_i\}$ has cardinality $n$ and $\B = \A_{E_1}$, then $\A$ is spacially isomorphic to $M_n(\B)$.
\end{prop}
\begin{proof}
	By assumption there is a collection of partial isometries $\{W_i\}$ s.t. $E_1 = \st{W_i}W_i$ and $E_i = W_i\st{W_i}$. Since for all $i,j$ and $A \in \A$,
	\begin{equation*}
		\st{W_i}AW_j = E_1(\st{W_i}AW_j) = (\st{W_i}AW_j)E_1
	\end{equation*}
	$\st{W_i}AW_j \in E_1 \A E_1$. Let $\fml{K} = E_1$ and define
	\begin{center}
		\begin{tabular}{l c c l}
			$U \colon$ & $\fml{K}^{(n)}$ & $\longrightarrow$ & $\Hs$ \\
			~ & $(h_i)$ & $\longmapsto$ & $\sum_i W_i h_i$
		\end{tabular}
	\end{center}
	Since $E_i = \st{W_i}W_i$, $U$ is an isomorphism. Moreover,
	\begin{equation*}
		U [\st{W_i}AW_j] U^{-1} = A
	\end{equation*}
	Therefore, the map
	\begin{center}
		\begin{tabular}{l c c l}
			$\rho \colon$ & $\A$ & $\longrightarrow$ & $M_n(\B)$ \\
			~ & $A$ & $\longmapsto$ & $U^{-1} AU$
		\end{tabular}
	\end{center}
	is well-defined. 
	\item Claim: $\rho$ is injective. \\
	$[\st{W_i}AW_j] = 0$ implies that $\st{W_i}AW_j = 0$ for all $i$ and $j$. Since $\sum_i W_i \st{W_i} = 1$, for any $h,g \in \Hs$,
	\begin{eqnarray*}
		\langle Ah,g \rangle &=& \langle A \sum_i W_i \st{W_i} h, \sum_i W_i \st{W_i} g \rangle \\
		&=& \sum_{i,j} \langle \st{W_j}AW_i h, \st{W_i} g \rangle \\
		&=& 0
	\end{eqnarray*}
	Therefore, $A = 0$.
	\item Claim: $\rho$ is surjective. \\
	Fix a $T \in M_n(\B)$. Let $A^{'} \in \A^{'}$. $B^{'} = A^{'}|_{\fml{K}}$ since $A^{'}E_i = E_iA^{'}$. Then $B^{'} \in \B^{'}$. And it is know that $\st{W_i}A^{'}W_j = 0$ for $i \neq j$ since $\{E_i\}$ are pairwise orthogonal and clearly $\st{W_i}A^{'}W_i = B^{'}$. Therefore
	\begin{equation*}
		U^{-1} A^{'}U = [\st{W_i}A^{'}W_j] = (B^{'})^{(n)} \in M_n(\B)^{'}
	\end{equation*}
	Thus 
	\begin{eqnarray*}
		U TU^{-1} A^{'}  &=& (U TU^{-1} A^{'}) U U^{-1} = U T(U^{-1} A^{'} U) U^{-1} \\
		&=& U (U^{-1} A^{'} U)T U^{-1} \\
		&=& A^{'} (UT U^{-1})
	\end{eqnarray*}
	That means $UT U^{-1} \in \A^{''} = \A$.
\end{proof}

\begin{cor}
	If $\A$ is a homogeneous algebra, then there is a carnical number $n$ and an algebra $\B$ that is isomorphic to the center of $\A$ s.t. $\A$ is spacially equivalent to $M_n(\B)$. If $\fml{Z}$ is the center of $\A$, then $\A$ is $*$-isomorphic to $M_n(\fml{Z})$.
\end{cor}
\begin{proof}
	Let $\{E_i\}$ be the family of pairwise orthogonal abelian projections that are mutually equivalent and whose sum is identity. Then by above proposition, if $\B = \A_{E_1}$, $\A$ is spacially isomorphic to $M_n(\B)$. $\B$ is abelian since $E_1$ is abelian. Therefore,
	\begin{equation*}
		\fml{Z} \cong M_n(\B) \cap M_n(\B)^{'} = M_n(\B) \cap (\B^{'})^{(n)} = \B^{(n)} \cong \B
	\end{equation*}
	And it is easily to check that $\A$ is $*$-isomorphic to $M_n(\fml{Z})$.
\end{proof}

\begin{prop}
	If $\A$ is a homogeneous algebra on a separable Hilbert space $\Hs$ and $\{E_i \colon i \in I\}$ and $\{F_k \colon k \in K\}$ are two collection of pairwise orthogonal, mutually equivalent abelian projections in $\A$ with $\sum_i E_i = \sum_k F_k = 1$, then $I$ and $K$ have same cardinality.
\end{prop}
\begin{proof}
	If $#I = n < \infty$ and $\B = \A_{E_1}$, then $\A \cong M_n(\B)$ and thus $\A$ is finite. If $K$ is infinite, 
	\begin{equation*}
		1 = \sum_{k=1}^{\infty} F_k \sim \sum_{k=2}^{\infty} F_k
	\end{equation*}
	But since $\A$ is finite and $F_1 \neq 0$, it is  impossible. Therefore, $K$ is infinite. Thus either both $I$ and $K$ are finite or inifite.
\end{proof}

















